/*! Amaze UI v1.0.1 | by Amaze UI Team | (c) 2014 AllMobilize, Inc. | Licensed under MIT | 2014-11-07T07:11:14 UTC */ 
!function(t,e){function i(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function n(){return k++}function o(t){return t.match(z)[0]}function s(t){for(t=t.replace(D,"/");t.match(N);)t=t.replace(N,"/");return t=t.replace(M,"$1/")}function a(t){var e=t.length-1,i=t.charAt(e);return"#"===i?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===i?t:t+".js"}function r(t){var e=T.alias;return e&&E(e[t])?e[t]:t}function l(t){var e,i=T.paths;return i&&(e=t.match(L))&&E(i[e[1]])&&(t=i[e[1]]+e[2]),t}function c(t){var e=T.vars;return e&&t.indexOf("{")>-1&&(t=t.replace(I,function(t,i){return E(e[i])?e[i]:t})),t}function u(t){var e=T.map,i=t;if(e)for(var n=0,o=e.length;o>n;n++){var s=e[n];if(i=S(s)?s(t)||t:t.replace(s[0],s[1]),i!==t)break}return i}function h(t,e){var i,n=t.charAt(0);if($.test(t))i=t;else if("."===n)i=s((e?o(e):T.cwd)+t);else if("/"===n){var a=T.cwd.match(_);i=a?a[0]+t.substring(1):t}else i=T.base+t;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function d(t,e){if(!t)return"";t=r(t),t=l(t),t=c(t),t=a(t);var i=h(t,e);return i=u(i)}function p(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}function m(t,e,i){var n=Z.test(t),o=O.createElement(n?"link":"script");if(i){var s=S(i)?i(t):i;s&&(o.charset=s)}f(o,e,n,t),n?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t),B=o,X?H.insertBefore(o,X):H.appendChild(o),B=null}function f(t,i,n,o){function s(){t.onload=t.onerror=t.onreadystatechange=null,n||T.debug||H.removeChild(t),t=null,i()}var a="onload"in t;return!n||!Y&&a?(a?(t.onload=s,t.onerror=function(){P("error",{uri:o,node:t}),s()}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&s()},e):(setTimeout(function(){v(t,i)},1),e)}function v(t,e){var i,n=t.sheet;if(Y)n&&(i=!0);else if(n)try{n.cssRules&&(i=!0)}catch(o){"NS_ERROR_DOM_SECURITY_ERR"===o.name&&(i=!0)}setTimeout(function(){i?e():v(t,e)},20)}function g(){if(B)return B;if(U&&"interactive"===U.readyState)return U;for(var t=H.getElementsByTagName("script"),e=t.length-1;e>=0;e--){var i=t[e];if("interactive"===i.readyState)return U=i}}function w(t){var e=[];return t.replace(V,"").replace(G,function(t,i,n){n&&e.push(n)}),e}function y(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!t.seajs){var b=t.seajs={version:"2.2.1"},T=b.data={},x=i("Object"),E=i("String"),C=Array.isArray||i("Array"),S=i("Function"),k=0,A=T.events={};b.on=function(t,e){var i=A[t]||(A[t]=[]);return i.push(e),b},b.off=function(t,e){if(!t&&!e)return A=T.events={},b;var i=A[t];if(i)if(e)for(var n=i.length-1;n>=0;n--)i[n]===e&&i.splice(n,1);else delete A[t];return b};var P=b.emit=function(t,e){var i,n=A[t];if(n)for(n=n.slice();i=n.shift();)i(e);return b},z=/[^?#]*\//,D=/\/\.\//g,N=/\/[^/]+\/\.\.\//,M=/([^:/])\/\//g,L=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,$=/^\/\/.|:\//,_=/^.*?\/\/.*?\//,O=document,q=o(O.URL),F=O.scripts,R=O.getElementById("seajsnode")||F[F.length-1],W=o(p(R)||q);b.resolve=d;var B,U,H=O.head||O.getElementsByTagName("head")[0]||O.documentElement,X=H.getElementsByTagName("base")[0],Z=/\.css(?:\?|$)/i,Y=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;b.request=m;var j,G=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,V=/\\\\/g,K=b.cache={},Q={},J={},te={},ee=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var t=this,e=t.dependencies,i=[],n=0,o=e.length;o>n;n++)i[n]=y.resolve(e[n],t.uri);return i},y.prototype.load=function(){var t=this;if(!(t.status>=ee.LOADING)){t.status=ee.LOADING;var i=t.resolve();P("load",i);for(var n,o=t._remain=i.length,s=0;o>s;s++)n=y.get(i[s]),n.status<ee.LOADED?n._waitings[t.uri]=(n._waitings[t.uri]||0)+1:t._remain--;if(0===t._remain)return t.onload(),e;var a={};for(s=0;o>s;s++)n=K[i[s]],n.status<ee.FETCHING?n.fetch(a):n.status===ee.SAVED&&n.load();for(var r in a)a.hasOwnProperty(r)&&a[r]()}},y.prototype.onload=function(){var t=this;t.status=ee.LOADED,t.callback&&t.callback();var e,i,n=t._waitings;for(e in n)n.hasOwnProperty(e)&&(i=K[e],i._remain-=n[e],0===i._remain&&i.onload());delete t._waitings,delete t._remain},y.prototype.fetch=function(t){function i(){b.request(a.requestUri,a.onRequest,a.charset)}function n(){delete Q[r],J[r]=!0,j&&(y.save(s,j),j=null);var t,e=te[r];for(delete te[r];t=e.shift();)t.load()}var o=this,s=o.uri;o.status=ee.FETCHING;var a={uri:s};P("fetch",a);var r=a.requestUri||s;return!r||J[r]?(o.load(),e):Q[r]?(te[r].push(o),e):(Q[r]=!0,te[r]=[o],P("request",a={uri:s,requestUri:r,onRequest:n,charset:T.charset}),a.requested||(t?t[a.requestUri]=i:i()),e)},y.prototype.exec=function(){function t(e){return y.get(t.resolve(e)).exec()}var i=this;if(i.status>=ee.EXECUTING)return i.exports;i.status=ee.EXECUTING;var o=i.uri;t.resolve=function(t){return y.resolve(t,o)},t.async=function(e,i){return y.use(e,i,o+"_async_"+n()),t};var s=i.factory,a=S(s)?s(t,i.exports={},i):s;return a===e&&(a=i.exports),delete i.factory,i.exports=a,i.status=ee.EXECUTED,P("exec",i),a},y.resolve=function(t,e){var i={id:t,refUri:e};return P("resolve",i),i.uri||b.resolve(i.id,e)},y.define=function(t,i,n){var o=arguments.length;1===o?(n=t,t=e):2===o&&(n=i,C(t)?(i=t,t=e):i=e),!C(i)&&S(n)&&(i=w(""+n));var s={id:t,uri:y.resolve(t),deps:i,factory:n};if(!s.uri&&O.attachEvent){var a=g();a&&(s.uri=a.src)}P("define",s),s.uri?y.save(s.uri,s):j=s},y.save=function(t,e){var i=y.get(t);i.status<ee.SAVED&&(i.id=e.id||t,i.dependencies=e.deps||[],i.factory=e.factory,i.status=ee.SAVED)},y.get=function(t,e){return K[t]||(K[t]=new y(t,e))},y.use=function(e,i,n){var o=y.get(n,C(e)?e:[e]);o.callback=function(){for(var e=[],n=o.resolve(),s=0,a=n.length;a>s;s++)e[s]=K[n[s]].exec();i&&i.apply(t,e),delete o.callback},o.load()},y.preload=function(t){var e=T.preload,i=e.length;i?y.use(e,function(){e.splice(0,i),y.preload(t)},T.cwd+"_preload_"+n()):t()},b.use=function(t,e){return y.preload(function(){y.use(t,e,T.cwd+"_use_"+n())}),b},y.define.cmd={},t.define=y.define,b.Module=y,T.fetchedList=J,T.cid=n,b.require=function(t){var e=y.get(y.resolve(t));return e.status<ee.EXECUTING&&(e.onload(),e.exec()),e.exports};var ie=/^(.+?\/)(\?\?)?(seajs\/)+/;T.base=(W.match(ie)||["",W])[1],T.dir=W,T.cwd=q,T.charset="utf-8",T.preload=function(){var t=[],e=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return e+=" "+O.cookie,e.replace(/(seajs-\w+)=1/g,function(e,i){t.push(i)}),t}(),b.config=function(t){for(var e in t){var i=t[e],n=T[e];if(n&&x(n))for(var o in i)n[o]=i[o];else C(n)?i=n.concat(i):"base"===e&&("/"!==i.slice(-1)&&(i+="/"),i=h(i)),T[e]=i}return P("config",t),b}}}(this),define("core",["zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return t=n(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}require("zepto.extend.fx"),require("zepto.extend.data"),require("zepto.extend.selector");var n=window.Zepto,o=n.AMUI||{},s=n(window),a=window.document,r=require("util.fastclick"),l=n("html");o.support={},o.support.transition=function(){var t=function(){var t,e=a.body||a.documentElement,i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),o.support.animation=function(){var t=function(){var t,e=a.body||a.documentElement,i={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}(),o.support.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},o.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,o.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,o.utils={},o.utils.debounce=function(t,e,i){var n;return function(){var o=this,s=arguments,a=function(){n=null,i||t.apply(o,s)},r=i&&!n;clearTimeout(n),n=setTimeout(a,e),r&&t.apply(o,s)}},o.utils.isInView=function(t,e){var i=n(t),o=!(!i.width()&&!i.height())&&"none"!==i.css("display");if(!o)return!1;var a=s.scrollLeft(),r=s.scrollTop(),l=i.offset(),c=l.left,u=l.top;return e=n.extend({topOffset:0,leftOffset:0},e),u+i.height()>=r&&u-e.topOffset<=r+s.height()&&c+i.width()>=a&&c-e.leftOffset<=a+s.width()},o.utils.parseOptions=o.utils.options=function(t){if(n.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,i={};if(-1!=e)try{i=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(o){}return i},o.utils.generateGUID=function(t){var e=t+"-"||"am-";do e+=Math.random().toString(36).substring(2,7);while(document.getElementById(e));return e},n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one(o.support.transition.end,function(){e=!0});var s=function(){e||n(i).trigger(o.support.transition.end),i.transitionEndTimmer=void 0};return this.transitionEndTimmer=setTimeout(s,t),this},n.fn.redraw=function(){return n(this).each(function(){this.offsetHeight}),this},n.fn.transitionEnd=function(t){function e(o){t.call(this,o),i&&n.off(i,e)}var i=o.support.transition.end,n=this;return t&&i&&n.on(i,e),this},n.fn.removeClassRegEx=function(){return this.each(function(t){var e=n(this).attr("class");if(!e||!t)return!1;var i=[];e=e.split(" ");for(var o=0,s=e.length;s>o;o++)e[o].match(t)||i.push(e[o]);n(this).attr("class",i.join(" "))})},n.fn.alterClass=function(t,e){var i=this;if(-1===t.indexOf("*"))return i.removeClass(t),e?i.addClass(e):i;var o=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each(function(t,e){for(var i=" "+e.className+" ";o.test(i);)i=i.replace(o," ");e.className=n.trim(i)}),e?i.addClass(e):i},n.fn.getHeight=function(){var t=n(this),e="auto";if(t.is(":visible"))e=t.height();else{var i={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")};e=t.css({position:"absolute",visibility:"hidden",display:"block"}).height(),t.css(i)}return e},n.fn.getSize=function(){var t=n(this);if("none"!==t.css("display"))return{width:t.width(),height:t.height()};var e,i,o={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")},s={display:"block",position:"absolute",visibility:"hidden"};return t.css(s),e=t.width(),i=t.height(),t.css(o),{width:e,height:i}};var c=n.fn.is,u=n.fn.filter;n.fn.is=function(t){return":visible"===t?i(this):":hidden"===t?!i(this):c.call(this,t)},n.fn.filter=function(t){return":visible"===t?n([].filter.call(this,i)):":hidden"===t?n([].filter.call(this,function(t){return!i(t)})):u.call(this,t)},o.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}(),o.utils.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=n('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');n(document.body).append(t);var e=t[0].offsetWidth-t[0].clientWidth;return t.remove(),e},o.utils.imageLoader=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()},o.template=function(t,e){var i=o.template;return i.cache[t]||(i.cache[t]=function(){var e=t,n=/^[\w\-]+$/.test(t)?i.get(t):(e="template(string)",t),o=1,s=("try { "+(i.variable?"var "+i.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+n.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++o+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(i.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+e+"' + ' line ' + this.line + ')'; } //@ sourceURL="+e+"\n").replace(/this\.ret \+= '';/g,""),a=new Function(s),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},l=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return r[t]})};return function(t){return a.call(i.context={escapeHTML:l,line:1,ret:"",stash:t})}}()),e?i.cache[t](e):i.cache[t]},o.template.cache={},o.template.get=function(t){if(t){var e=document.getElementById(t);return e&&e.innerHTML||""}},o.support.touch&&(l.addClass("am-touch"),n(function(){r.attach(document.body)})),n(function(){var t=n("body");n(document).trigger("domready:amui"),l.removeClass("no-js").addClass("js"),o.support.animation&&l.addClass("cssanimations"),window.navigator.standalone&&l.addClass("am-standalone"),n(".am-topbar-fixed-top").length&&t.addClass("am-with-topbar-fixed-top"),n(".am-topbar-fixed-bottom").length&&t.addClass("am-with-topbar-fixed-bottom");var e=n(".am-layout");e.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),e.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),n("[data-am-widget]").each(function(){var t=n(this);0===t.parents(".am-layout").length&&t.addClass("am-no-layout")})}),n.AMUI=o,e.exports=o}),define("util.fastclick",[],function(require,t,e){"use strict";function i(t,e){function o(t,e){return function(){return t.apply(e,arguments)}}var s;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!i.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,l=0,c=a.length;c>l;l++)r[a[l]]=o(r[a[l]],r);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(t){s(t)},!1),t.onclick=null)}}var n=(window.Zepto,navigator.userAgent.indexOf("Android")>0),o=/iP(ad|hone|od)/.test(navigator.userAgent),s=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=o&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(o&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},i.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){var e;o&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],o){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!s){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},i.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){var e,i,r,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=u.tagName.toLowerCase(),"label"===r){if(e=this.findControl(u)){if(this.focus(u),n)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-i>100||o&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),o&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return o&&!s&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},i.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},i.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){var e,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:!1},i.attach=function(t,e){return new i(t,e)},e.exports=i}),define("util.hammer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t,e,i){return setTimeout(l(t,i),e)}function n(t,e,i){return Array.isArray(t)?(o(t,i[e],i),!0):!1}function o(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function s(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t}function a(t,e){return s(t,e,!0)}function r(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&s(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ce?t.apply(e?e[0]||void 0:void 0,e):t}function u(t,e){return void 0===t?e:t}function h(t,e,i){o(f(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){o(f(e),function(e){t.removeEventListener(e,i,!1)})}function p(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function f(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function g(t){return Array.prototype.slice.call(t,0)}function w(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];v(o,a)<0&&n.push(t[s]),o[s]=a,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function y(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<re.length;){if(i=re[s],n=i?i+o:e,n in t)return n;s++}return void 0}function b(){return pe++}function T(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function x(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function E(t){var e,i=t.options.inputClass;return new(e=i?i:ve?O:ge?q:fe?R:_)(t,C)}function C(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=e&Ee&&n-o===0,a=e&(Se|ke)&&n-o===0;i.isFirst=!!s,i.isFinal=!!a,s&&(t.session={}),i.eventType=e,S(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=P(e)),o>1&&!i.firstMultiple?i.firstMultiple=P(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,a=i.firstMultiple,r=a?a.center:s.center,l=e.center=z(n);e.timeStamp=de(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=L(r,l),e.distance=M(r,l),k(i,e),e.offsetDirection=N(e.deltaX,e.deltaY),e.scale=a?$(a.pointers,n):1,e.rotation=a?I(a.pointers,n):0,A(i,e);var c=t.element;p(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function k(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ee||s.eventType===Se)&&(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function A(t,e){var i,n,o,s,a=t.lastInterval||e,r=e.timeStamp-a.timeStamp;if(e.eventType!=ke&&(r>xe||void 0===a.velocity)){var l=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,u=D(r,l,c);n=u.x,o=u.y,i=he(u.x)>he(u.y)?u.x:u.y,s=N(l,c),t.lastInterval=e}else i=a.velocity,n=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}function P(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ue(t.pointers[i].clientX),clientY:ue(t.pointers[i].clientY)},i++;return{timeStamp:de(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:ue(t[0].clientX),y:ue(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:ue(i/e),y:ue(n/e)}}function D(t,e,i){return{x:e/t||0,y:i/t||0}}function N(t,e){return t===e?Ae:he(t)>=he(e)?t>0?Pe:ze:e>0?De:Ne}function M(t,e,i){i||(i=$e);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function L(t,e,i){i||(i=$e);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function I(t,e){return L(e[1],e[0],_e)-L(t[1],t[0],_e)}function $(t,e){return M(e[0],e[1],_e)/M(t[0],t[1],_e)}function _(){this.evEl=qe,this.evWin=Fe,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function O(){this.evEl=Be,this.evWin=Ue,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Xe,this.targetIds={},x.apply(this,arguments)}function F(t,e){var i=g(t.touches),n=this.targetIds;if(e&(Ee|Ce)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s=g(t.targetTouches),a=g(t.changedTouches),r=[];if(e===Ee)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<a.length;)n[a[o].identifier]&&r.push(a[o]),e&(Se|ke)&&delete n[a[o].identifier],o++;return r.length?[w(s.concat(r),"identifier",!0),r]:void 0}function R(){x.apply(this,arguments);var t=l(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new _(this.manager,t)}function W(t,e){this.manager=t,this.set(e)}function B(t){if(m(t,Ke))return Ke;var e=m(t,Qe),i=m(t,Je);return e&&i?Qe+" "+Je:e||i?e?Qe:Je:m(t,Ve)?Ve:Ge}function U(t){this.id=b(),this.manager=null,this.options=a(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=ti,this.simultaneous={},this.requireFail=[]}function H(t){return t&si?"cancel":t&ni?"end":t&ii?"move":t&ei?"start":""}function X(t){return t==Ne?"down":t==De?"up":t==Pe?"left":t==ze?"right":""}function Z(t,e){var i=e.manager;return i?i.get(t):t}function Y(){U.apply(this,arguments)}function j(){Y.apply(this,arguments),this.pX=null,this.pY=null}function G(){Y.apply(this,arguments)}function V(){U.apply(this,arguments),this._timer=null,this._input=null}function K(){Y.apply(this,arguments)}function Q(){Y.apply(this,arguments)}function J(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return e=e||{},e.recognizers=u(e.recognizers,te.defaults.preset),new ee(t,e)}function ee(t,e){e=e||{},this.options=a(e,te.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=E(this),this.touchAction=new W(this,this.options.touchAction),ie(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ie(t,e){var i=t.element;o(t.options.cssProps,function(t,n){i.style[y(i.style,n)]=e?t:""})}function ne(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}function oe(t,e){var i=se(t);i.data("hammer")||i.data("hammer",new te(i[0],e))}require("core");var se=window.Zepto,ae=se.AMUI,re=["","webkit","moz","MS","ms","o"],le=document.createElement("div"),ce="function",ue=Math.round,he=Math.abs,de=Date.now,pe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,fe="ontouchstart"in window,ve=void 0!==y(window,"PointerEvent"),ge=fe&&me.test(navigator.userAgent),we="touch",ye="pen",be="mouse",Te="kinect",xe=25,Ee=1,Ce=2,Se=4,ke=8,Ae=1,Pe=2,ze=4,De=8,Ne=16,Me=Pe|ze,Le=De|Ne,Ie=Me|Le,$e=["x","y"],_e=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(T(this.element),this.evWin,this.domHandler)}};var Oe={mousedown:Ee,mousemove:Ce,mouseup:Se},qe="mousedown",Fe="mousemove mouseup";r(_,x,{handler:function(t){var e=Oe[t.type];e&Ee&&0===t.button&&(this.pressed=!0),e&Ce&&1!==t.which&&(e=Se),this.pressed&&this.allow&&(e&Se&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:be,srcEvent:t}))}});var Re={pointerdown:Ee,pointermove:Ce,pointerup:Se,pointercancel:ke,pointerout:ke},We={2:we,3:ye,4:be,5:Te},Be="pointerdown",Ue="pointermove pointerup pointercancel";window.MSPointerEvent&&(Be="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),r(O,x,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Re[n],s=We[t.pointerType]||t.pointerType,a=s==we;o&Ee&&(0===t.button||a)?e.push(t):o&(Se|ke)&&(i=!0);var r=v(e,t.pointerId,"pointerId");0>r||(e[r]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(r,1))}});var He={touchstart:Ee,touchmove:Ce,touchend:Se,touchcancel:ke},Xe="touchstart touchmove touchend touchcancel";r(q,x,{handler:function(t){var e=He[t.type],i=F.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:we,srcEvent:t})}}),r(R,x,{handler:function(t,e,i){var n=i.pointerType==we,o=i.pointerType==be;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(Se|ke)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ze=y(le.style,"touchAction"),Ye=void 0!==Ze,je="compute",Ge="auto",Ve="manipulation",Ke="none",Qe="pan-x",Je="pan-y";W.prototype={set:function(t){t==je&&(t=this.compute()),Ye&&(this.manager.element.style[Ze]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),B(t.join(" "))},preventDefaults:function(t){if(!Ye){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=m(n,Ke),s=m(n,Je),a=m(n,Qe);return o||s&&i&Me||a&&i&Le?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ti=1,ei=2,ii=4,ni=8,oi=ni,si=16,ai=32;U.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Z(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)?this:(t=Z(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return t=Z(t,this),-1===v(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Z(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?H(n):""),t)
}var i=this,n=this.state;ni>n&&e(!0),e(),n>=ni&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ai)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ai|ti)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return c(this.options.enable,[this,e])?(this.state&(oi|si|ai)&&(this.state=ti),this.state=this.process(e),void(this.state&(ei|ii|ni|si)&&this.tryEmit(e))):(this.reset(),void(this.state=ai))},process:function(){},getTouchAction:function(){},reset:function(){}},r(Y,U,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ei|ii),o=this.attrTest(t);return n&&(i&ke||!o)?e|si:n||o?i&Se?e|ni:e&ei?e|ii:ei:ai}}),r(j,Y,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var t=this.options.direction,e=[];return t&Me&&e.push(Je),t&Le&&e.push(Qe),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&Me?(o=0===s?Ae:0>s?Pe:ze,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===a?Ae:0>a?De:Ne,i=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return Y.prototype.attrTest.call(this,t)&&(this.state&ei||!(this.state&ei)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),r(G,Y,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ke]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ei)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),r(V,U,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ge]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!o||!n||t.eventType&(Se|ke)&&!s)this.reset();else if(t.eventType&Ee)this.reset(),this._timer=i(function(){this.state=oi,this.tryEmit()},e.time,this);else if(t.eventType&Se)return oi;return ai},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===oi&&(t&&t.eventType&Se?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),r(K,Y,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ke]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ei)}}),r(Q,Y,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Me|Le,pointers:1},getTouchAction:function(){return j.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Me|Le)?e=t.velocity:i&Me?e=t.velocityX:i&Le&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&he(e)>this.options.velocity&&t.eventType&Se},emit:function(t){var e=X(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),r(J,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Ve]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,o=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Ee&&0===this.count)return this.failTimeout();if(o&&s&&n){if(t.eventType!=Se)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||M(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=i(function(){this.state=oi,this.tryEmit()},e.interval,this),ei):oi}return ai},failTimeout:function(){return this._timer=i(function(){this.state=ai},this.options.interval,this),ai},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==oi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.3",te.defaults={domEvents:!1,touchAction:je,enable:!0,inputTarget:null,inputClass:null,preset:[[K,{enable:!1}],[G,{enable:!1},["rotate"]],[Q,{direction:Me}],[j,{direction:Me},["swipe"]],[J],[J,{event:"doubletap",taps:2},["tap"]],[V]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ri=1,li=2;ee.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?li:ri},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&oi)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],e.stopped===li||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(ei|ii|ni)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof U)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(v(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return o(f(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return o(f(t),function(t){e?i[t].splice(v(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&ne(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(te,{INPUT_START:Ee,INPUT_MOVE:Ce,INPUT_END:Se,INPUT_CANCEL:ke,STATE_POSSIBLE:ti,STATE_BEGAN:ei,STATE_CHANGED:ii,STATE_ENDED:ni,STATE_RECOGNIZED:oi,STATE_CANCELLED:si,STATE_FAILED:ai,DIRECTION_NONE:Ae,DIRECTION_LEFT:Pe,DIRECTION_RIGHT:ze,DIRECTION_UP:De,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:Me,DIRECTION_VERTICAL:Le,DIRECTION_ALL:Ie,Manager:ee,Input:x,TouchAction:W,TouchInput:q,MouseInput:_,PointerEventInput:O,TouchMouseInput:R,Recognizer:U,AttrRecognizer:Y,Tap:J,Pan:j,Swipe:Q,Pinch:G,Rotate:K,Press:V,on:h,off:d,each:o,merge:a,extend:s,inherit:r,bindFn:l,prefixed:y}),ae.hammer=te,e.exports=te,te.Manager.prototype.emit=function(t){return function(e,i){t.call(this,e,i),se(this.element).trigger({type:e,gesture:i})}}(te.Manager.prototype.emit),se.fn.hammer=function(t){return this.each(function(){oe(this,t)})}}),define("zepto.outerdemension",[],function(){var t=window.Zepto;["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});t.fn["outer"+i]=function(t){var i=this;if(i){var n=i[e](),o={width:["left","right"],height:["top","bottom"]};return o[e].forEach(function(e){t&&(n+=parseInt(i.css("margin-"+e),10))}),n}return null}})}),define("zepto.extend.data",[],function(){function t(t,i){var l=t[r],c=l&&o[l];if(void 0===i)return c||e(t);if(c){if(i in c)return c[i];var u=a(i);if(u in c)return c[u]}return s.call(n(t),i)}function e(t,e,s){var l=t[r]||(t[r]=++n.uuid),c=o[l]||(o[l]=i(t));return void 0!==e&&(c[a(e)]=s),c}function i(t){var e={};return n.each(t.attributes||l,function(t,i){0==i.name.indexOf("data-")&&(e[a(i.name.replace("data-",""))]=n.zepto.deserializeValue(i.value))}),e}var n=window.Zepto,o={},s=n.fn.data,a=n.camelCase,r=n.expando="Zepto"+ +new Date,l=[];n.fn.data=function(i,o){return void 0===o?n.isPlainObject(i)?this.each(function(t,o){n.each(i,function(t,i){e(o,t,i)})}):0 in this?t(this[0],i):void 0:this.each(function(){e(this,i,o)})},n.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var e=this[r],i=e&&o[e];i&&n.each(t||i,function(e){delete i[t?a(this):e]})})},["remove","empty"].forEach(function(t){var e=n.fn[t];n.fn[t]=function(){var i=this.find("*");return"remove"===t&&(i=i.add(this)),i.removeData(),e.call(this)}})}),define("zepto.extend.fx",[],function(){function t(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function e(t){return i?i+t:t.toLowerCase()}var i,n,o,s,a,r,l,c,u,h,d=window.Zepto,p="",m={Webkit:"webkit",Moz:"",O:"o"},f=window.document,v=f.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};d.each(m,function(t,e){return void 0!==v.style[t+"TransitionProperty"]?(p="-"+t.toLowerCase()+"-",i=e,!1):void 0}),n=p+"transform",w[o=p+"transition-property"]=w[s=p+"transition-duration"]=w[r=p+"transition-delay"]=w[a=p+"transition-timing-function"]=w[l=p+"animation-name"]=w[c=p+"animation-duration"]=w[h=p+"animation-delay"]=w[u=p+"animation-timing-function"]="",d.fx={off:void 0===i&&void 0===v.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:p,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},d.fn.animate=function(t,e,i,n,o){return d.isFunction(e)&&(n=e,i=void 0,e=void 0),d.isFunction(i)&&(n=i,i=void 0),d.isPlainObject(e)&&(i=e.easing,n=e.complete,o=e.delay,e=e.duration),e&&(e=("number"==typeof e?e:d.fx.speeds[e]||d.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,e,i,n,o)},d.fn.anim=function(e,i,p,m,f){var v,y,b,T={},x="",E=this,C=d.fx.transitionEnd,S=!1;if(void 0===i&&(i=d.fx.speeds._default/1e3),void 0===f&&(f=0),d.fx.off&&(i=0),"string"==typeof e)T[l]=e,T[c]=i+"s",T[h]=f+"s",T[u]=p||"linear",C=d.fx.animationEnd;else{y=[];for(v in e)g.test(v)?x+=v+"("+e[v]+") ":(T[v]=e[v],y.push(t(v)));x&&(T[n]=x,y.push(n)),i>0&&"object"==typeof e&&(T[o]=y.join(", "),T[s]=i+"s",T[r]=f+"s",T[a]=p||"linear")}return b=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;d(t.target).unbind(C,b)}else d(this).unbind(C,b);S=!0,d(this).css(w),m&&m.call(this)},i>0&&(this.bind(C,b),setTimeout(function(){S||b.call(E)},1e3*i+25)),this.size()&&this.get(0).clientLeft,this.css(T),0>=i&&setTimeout(function(){E.each(function(){b.call(this)})},0),this},v=null}),define("zepto.extend.selector",[],function(){function t(t){return t=i(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function e(t,e){t=t.replace(/=#\]/g,'="#"]');var i,n,o=r.exec(t);if(o&&o[2]in a&&(i=a[o[2]],n=o[3],t=o[1],n)){var s=Number(n);n=isNaN(s)?n.replace(/^["']|["']$/g,""):s}return e(t,i,n)}var i=window.Zepto,n=i.zepto,o=n.qsa,s=n.matches,a=i.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(t){return 0===t?this:void 0},last:function(t,e){return t===e.length-1?this:void 0},eq:function(t,e,i){return t===i?this:void 0},contains:function(t,e,n){return i(this).text().indexOf(n)>-1?this:void 0},has:function(t,e,i){return n.qsa(this,i).length?this:void 0}},r=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),l=/^\s*>/,c="Zepto"+ +new Date;n.qsa=function(t,s){return e(s,function(e,a,r){try{var u;!e&&a?e="*":l.test(e)&&(u=i(t).addClass(c),e="."+c+" "+e);var h=o(t,e)}catch(d){throw console.error("error performing selector: %o",s),d}finally{u&&u.removeClass(c)}return a?n.uniq(i.map(h,function(t,e){return a.call(t,e,h,r)})):h})},n.matches=function(t,i){return e(i,function(e,i,n){return!(e&&!s(t,e)||i&&i.call(t,null,n)!==t)})}}),define("ui.add2home",[],function(require,t,e){"use strict";function i(){window.removeEventListener("load",i,!1),r=!0}function n(t){return l=l||new n.Class(t)}function o(t,e){for(var i in e)t[i]=e[i];return t}function s(){"#ath"==document.location.hash&&history.replaceState("",window.document.title,document.location.href.split("#")[0]),c.test(document.location.href)&&history.replaceState("",window.document.title,document.location.href.replace(c,"$1")),u.test(document.location.search)&&history.replaceState("",window.document.title,document.location.href.replace(u,"$2"))}var a=window.Zepto,r=!1;"complete"===document.readyState?r=!0:window.addEventListener("load",i,!1);var l,c=/\/ath(\/)?$/,u=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;n.intl={en_us:{message:"To add this web app to the home screen: tap %icon and then <strong>%action</strong>.",action:{ios:"Add to Home Screen",android:"Add to homescreen",windows:"pin to start"}},zh_cn:{message:"如要把应用程式加至主屏幕,请点击%icon, 然后<strong>%action</strong>",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住启动"}},zh_tw:{message:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>%action</strong>.",action:{ios:"加至主屏幕",android:"加至主屏幕",windows:"按住啟動"}}};for(var h in n.intl)n.intl[h.substr(0,2)]=n.intl[h];n.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,detectHomescreen:!1};var d=window.navigator.userAgent,p=window.navigator;o(n,{hasToken:"#ath"==document.location.hash||c.test(document.location.href)||u.test(document.location.search),isRetina:window.devicePixelRatio&&window.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(d),isMobileChrome:d.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(d),isMobileIE:d.indexOf("Windows Phone")>-1,language:p.language&&p.language.toLowerCase().replace("-","_")||""}),n.language=n.language&&n.language in n.intl?n.language:"en_us",n.isMobileSafari=n.isIDevice&&d.indexOf("Safari")>-1&&d.indexOf("CriOS")<0,n.OS=n.isIDevice?"ios":n.isMobileChrome?"android":n.isMobileIE?"windows":"unsupported",n.OSVersion=d.match(/(OS|Android) (\d+[_\.]\d+)/),n.OSVersion=n.OSVersion&&n.OSVersion[2]?+n.OSVersion[2].replace("_","."):0,n.isStandalone=window.navigator.standalone||n.isMobileChrome&&screen.height-document.documentElement.clientHeight<40,n.isTablet=n.isMobileSafari&&d.indexOf("iPad")>-1||n.isMobileChrome&&d.indexOf("Mobile")<0,n.isCompatible=n.isMobileSafari&&n.OSVersion>=6||n.isMobileChrome;var m={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};n.removeSession=function(t){try{localStorage.removeItem(t||n.defaults.appID)}catch(e){}},n.Class=function(t){if(this.options=o({},n.defaults),o(this.options,t),this.options.mandatory=this.options.mandatory&&("standalone"in window.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(n.isCompatible=!0,n.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==n.OS?"android":n.OS,n.OSVersion="ios"==n.OS?"8":"4"),this.container=document.documentElement,this.session=localStorage.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!n.hasToken||n.isCompatible&&this.session||(n.hasToken=!1,s()),n.isCompatible){this.session=this.session||m;try{localStorage.setItem(this.options.appID,JSON.stringify(this.session)),n.hasLocalStorage=!0}catch(e){n.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var i=!this.options.validLocation.length,a=this.options.validLocation.length;a--;)if(this.options.validLocation[a].test(document.location.href)){i=!0;break}if(localStorage.getItem("addToHome")&&this.optOut(),!this.session.optedout&&!this.session.added&&i){if(n.isStandalone)return void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&n.hasLocalStorage&&this.options.onAdd.call(this)));if(this.options.detectHomescreen){if(n.hasToken)return s(),void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&n.hasLocalStorage&&this.options.onAdd.call(this)));"hash"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",window.document.title,document.location.href+(document.location.search?"&":"?")+"ath=")}(this.session.returningVisitor||(this.session.returningVisitor=!0,this.updateSession(),!this.options.skipFirstVisit))&&n.hasLocalStorage&&(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&this.show())}}},n.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(t){if(this.options.autostart&&!r)return void setTimeout(this.show.bind(this),50);if(!this.shown){var e=Date.now(),i=this.session.lastDisplayTime;if(t!==!0){if(!this.ready)return;if(e-i<6e4*this.options.displayPace)return;if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return}this.shown=!0,this.session.lastDisplayTime=e,this.session.displayCount++,this.updateSession(),this.applicationIcon||(this.applicationIcon=document.querySelector("ios"==n.OS?'head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]':'head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var o="";o=this.options.message in n.intl?n.intl[this.options.message].message.replace("%action",n.intl[this.options.message].action[n.OS]):""!==this.options.message?this.options.message:n.intl[n.language].message.replace("%action",n.intl[n.language].action[n.OS]),o="<p>"+o.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=document.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=document.createElement("div"),this.element.className="ath-container ath-"+n.OS+" ath-"+n.OS+(n.OSVersion+"").substr(0,1)+" ath-"+(n.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);transition-property:transform,opacity;transition-duration:0;transform:translate3d(0,0,0);-webkit-transition-timing-function:ease-out",this.element.style.webkitTransform="translate3d(0,-"+window.innerHeight+"px,0)",this.element.style.webkitTransitionDuration="0s",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=document.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=o,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img||this._delayedShow()}},_delayedShow:function(){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var t=this;this.updateViewport(),window.addEventListener("resize",this,!1),window.addEventListener("scroll",this,!1),window.addEventListener("orientationchange",this,!1),this.options.modal&&document.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){t.element.addEventListener("click",t,!0)},1e3),setTimeout(function(){t.element.style.webkitTransform="translate3d(0,0,0)",t.element.style.webkitTransitionDuration="1.2s"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),window.removeEventListener("resize",this,!1),window.removeEventListener("scroll",this,!1),window.removeEventListener("orientationchange",this,!1),document.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=window.innerWidth+"px",this.viewport.style.height=window.innerHeight+"px",this.viewport.style.left=window.scrollX+"px",this.viewport.style.top=window.scrollY+"px";var t=document.documentElement.clientWidth;this.orientation=t>document.documentElement.clientHeight?"landscape":"portrait";var e="ios"==n.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>t?1:e/window.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){n.hasLocalStorage!==!1&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=m,this.updateSession()},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},a.AMUI.addToHomescreen=n,e.exports=n}),define("ui.alert",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";require("core");var i=window.Zepto,n=i.AMUI,o=function(t,e){this.options=i.extend({},o.DEFAULTS,e),this.$element=i(t),this.$element.addClass("am-fade am-in").on("click.alert.amui",".am-close",i.proxy(this.close,this))};o.DEFAULTS={removeElement:!0},o.prototype.close=function(){function t(){o.trigger("closed:alert:amui").remove()}var e=i(this),o=e.hasClass("am-alert")?e:e.parent(".am-alert");o.trigger("close:alert:amui"),o.removeClass("am-in"),n.support.transition&&o.hasClass("am-fade")?o.one(n.support.transition.end,t).emulateTransitionEnd(200):t()},i.fn.alert=function(t){return this.each(function(){var e=i(this),n=e.data("amui.alert"),s="object"==typeof t&&t;n||e.data("amui.alert",n=new o(this,s||{})),"string"==typeof t&&n[t].call(e)})},i(document).on("click.alert.amui","[data-am-alert]",function(t){var e=i(t.target);i(this).addClass("am-fade am-in"),e.is(".am-close")&&i(this).alert("close")}),n.alert=o,e.exports=o}),define("ui.button",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("amui.button"),o="object"==typeof t&&t||{};i||e.data("amui.button",i=new s(this,o)),"toggle"==t?i.toggle():"string"==typeof t&&i.setState(t)})}require("core");var n=window.Zepto,o=n.AMUI,s=function(t,e){this.$element=n(t),this.options=n.extend({},s.DEFAULTS,e),this.isLoading=!1,this.hasSpinner=!1};s.DEFAULTS={loadingText:"loading...",className:{loading:"am-btn-loading",disabled:"am-disabled"},spinner:void 0},s.prototype.setState=function(t){var e="disabled",i=this.$element,s=this.options,a=i.is("input")?"val":"html",r=s.className.disabled+" "+s.className.loading;t+="Text",s.resetText||(s.resetText=i[a]()),o.support.animation&&s.spinner&&"html"===a&&!this.hasSpinner&&(s.loadingText='<span class="am-icon-'+s.spinner+' am-icon-spin"></span>'+s.loadingText,this.hasSpinner=!0),i[a](s[t]),setTimeout(n.proxy(function(){"loadingText"==t?(i.addClass(r).attr(e,e),this.isLoading=!0):this.isLoading&&(i.removeClass(r).removeAttr(e),this.isLoading=!1)},this),0)},s.prototype.toggle=function(){var t=!0,e=this.$element,i=this.$element.parent(".am-btn-group");if(i.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&e.hasClass("am-active")?t=!1:i.find(".am-active").removeClass("am-active")),t&&n.prop("checked",!e.hasClass("am-active")).trigger("change")}t&&(e.toggleClass("am-active"),e.hasClass("am-active")||e.blur())},n.fn.button=i,n(document).on("click.button.amui","[data-am-button]",function(t){var e=n(t.target);e.hasClass("am-btn")||(e=e.closest(".am-btn")),i.call(e,"toggle"),t.preventDefault()}),n(function(){n("[data-am-loading]").each(function(){n(this).button(o.utils.parseOptions(n(this).data("amLoading")))})}),o.button=s,e.exports=s}),define("ui.collapse",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("amui.collapse"),a=n.extend({},s.DEFAULTS,o.utils.options(e.attr("data-am-collapse")),"object"==typeof t&&t);!i&&a.toggle&&"open"==t&&(t=!t),i||e.data("amui.collapse",i=new s(this,a)),"string"==typeof t&&i[t]()})}require("core");var n=window.Zepto,o=n.AMUI,s=function(t,e){this.$element=n(t),this.options=n.extend({},s.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()};s.DEFAULTS={toggle:!0},s.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("am-in")){var t=n.Event("open:collapse:amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .am-panel > .am-in");if(e&&e.length){var s=e.data("amui.collapse");if(s&&s.transitioning)return;i.call(e,"close"),s||e.data("amui.collapse",null)}this.$element.removeClass("am-collapse").addClass("am-collapsing").height(0),this.transitioning=1;var a=function(){this.$element.removeClass("am-collapsing").addClass("am-collapse am-in").height(""),this.transitioning=0,this.$element.trigger("opened:collapse:amui")};return o.support.transition?void this.$element.one(o.support.transition.end,n.proxy(a,this)).emulateTransitionEnd(300).height(this.$element[0].scrollHeight):a.call(this)}}},s.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("am-in")){var t=n.Event("close:collapse:amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.$element.height(this.$element.height()),this.$element[0].offsetHeight,this.$element.addClass("am-collapsing").removeClass("am-collapse").removeClass("am-in"),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.trigger("closed:collapse:amui").removeClass("am-collapsing").addClass("am-collapse")};return o.support.transition?void this.$element.height(0).one(o.support.transition.end,n.proxy(e,this)).emulateTransitionEnd(350):e.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("am-in")?"close":"open"]()},n.fn.collapse=i,n(document).on("click.collapse.amui","[data-am-collapse]",function(t){var e,s=n(this),a=o.utils.options(s.attr("data-am-collapse")),r=a.target||t.preventDefault()||(e=s.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),l=n(r),c=l.data("amui.collapse"),u=c?"toggle":a,h=a.parent,d=h&&n(h);c&&c.transitioning||(d&&d.find("[data-am-collapse]").not(s).addClass("am-collapsed"),s[l.hasClass("am-in")?"addClass":"removeClass"]("am-collapsed")),i.call(l,u)}),o.collapse=s,e.exports=s}),define("ui.dimmer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";require("core");var i=window.Zepto,n=i.AMUI,o=i(document),s=n.support.transition,a=function(){this.id=n.utils.generateGUID("am-dimmer"),this.$element=i(a.DEFAULTS.tpl,{id:this.id}),this.inited=!1,this.scrollbarWidth=0,this.used=i([])};a.DEFAULTS={tpl:'<div class="am-dimmer" data-am-dimmer></div>'},a.prototype.init=function(){return this.inited||(i(document.body).append(this.$element),this.inited=!0,o.trigger("init:dimmer:amui")),this},a.prototype.open=function(t){this.inited||this.init();var e=this.$element;return t&&(this.used=this.used.add(i(t))),this.checkScrollbar().setScrollbar(),e.show().trigger("open:dimmer:amui"),setTimeout(function(){e.addClass("am-active")},0),this},a.prototype.close=function(t,e){function n(){this.resetScrollbar(),o.hide()}if(this.used=this.used.not(i(t)),!e&&this.used.length)return this;var o=this.$element;return o.removeClass("am-active").trigger("close:dimmer:amui"),s?o.one(s.end,i.proxy(n,this)).emulateTransitionEnd(150):n.call(this),this},a.prototype.checkScrollbar=function(){return this.scrollbarWidth=n.utils.measureScrollbar(),this},a.prototype.setScrollbar=function(){var t=i(document.body),e=parseInt(t.css("padding-right")||0,10);return this.scrollbarWidth&&t.css("padding-right",e+this.scrollbarWidth),t.addClass("am-dimmer-active"),this},a.prototype.resetScrollbar=function(){return i(document.body).css("padding-right","").removeClass("am-dimmer-active"),this};var r=new a;n.dimmer=r,e.exports=r}),define("ui.dropdown",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("amui.dropdown"),s=n.extend({},o.utils.parseOptions(e.attr("data-am-dropdown")),"object"==typeof t&&t);i||e.data("amui.dropdown",i=new a(this,s)),"string"==typeof t&&i[t]()})}require("core");var n=window.Zepto,o=n.AMUI,s=o.support.animation,a=function(t,e){this.options=n.extend({},a.DEFAULTS,e),e=this.options,this.$element=n(t),this.$toggle=this.$element.find(e.selector.toggle),this.$dropdown=this.$element.find(e.selector.dropdown),this.$boundary=e.boundary===window?n(window):this.$element.closest(e.boundary),this.$justify=e.justify&&n(e.justify).length&&n(e.justify)||void 0,!this.$boundary.length&&(this.$boundary=n(window)),this.active=this.$element.hasClass("am-active")?!0:!1,this.animating=null,this.events()};a.DEFAULTS={animation:"am-animation-slide-top-fixed",boundary:window,justify:void 0,selector:{dropdown:".am-dropdown-content",toggle:".am-dropdown-toggle"},trigger:"click"},a.prototype.toggle=function(){this.clear(),this.animating||this[this.active?"close":"open"]()},a.prototype.open=function(){var t=this.$toggle,e=this.$element,i=this.$dropdown;if(!t.is(".am-disabled, :disabled")&&!this.active){e.trigger("open:dropdown:amui").addClass("am-active"),t.trigger("focus"),this.checkDimensions();var o=n.proxy(function(){e.trigger("opened:dropdown:amui"),this.active=!0,this.animating=0},this);s?(this.animating=1,i.addClass(this.options.animation).on(s.end+".open.dropdown.amui",n.proxy(function(){o(),i.removeClass(this.options.animation)},this))):o()}},a.prototype.close=function(){if(this.active){var t=this.options.animation+" am-animation-reverse",e=this.$element,i=this.$dropdown;e.trigger("close:dropdown:amui");var o=n.proxy(function(){e.removeClass("am-active").trigger("closed:dropdown:amui"),this.active=!1,this.animating=0,this.$toggle.blur()},this);s?(i.addClass(t),this.animating=1,i.one(s.end+".close.dropdown.amui",function(){o(),i.removeClass(t)})):o()}},a.prototype.checkDimensions=function(){if(this.$dropdown.length){var t=this.$dropdown,e=t.offset(),i=t.outerWidth(),o=this.$boundary.width(),s=n.isWindow(this.boundary)&&this.$boundary.offset()?this.$boundary.offset().left:0;
this.$justify&&t.css({"min-width":this.$justify.width()}),i+(e.left-s)>o&&this.$element.addClass("am-dropdown-flip")}},a.prototype.clear=function(){n("[data-am-dropdown]").not(this.$element).each(function(){var t=n(this).data("amui.dropdown");t&&t.close()})},a.prototype.events=function(){var t="dropdown.amui",e=this.$toggle;e.on("click."+t,n.proxy(this.toggle,this)),n(document).on("keydown.dropdown.amui",n.proxy(function(t){27===t.keyCode&&this.active&&this.close()},this)).on("click.outer.dropdown.amui",n.proxy(function(t){!this.active||this.$element[0]!==t.target&&this.$element.find(t.target).length||this.close()},this))},n.fn.dropdown=i,n(function(){n("[data-am-dropdown]").dropdown()}),n(document).on("click.dropdown.amui",".am-dropdown form",function(t){t.stopPropagation()}),o.dropdown=a,e.exports=a}),define("ui.iscroll-lite",[],function(require,t,e){"use strict";!function(t,i,n){function o(t,e){this.wrapper="string"==typeof t?i.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var n in e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function e(t){return a===!1?!1:""===a?t:a+t.charAt(0).toUpperCase()+t.substr(1)}var o={},s=i.createElement("div").style,a=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,n=e.length;n>i;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},o.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},o.momentum=function(t,e,i,o,s,a){var r,l,c=t-e,u=n.abs(c)/i;return a=void 0===a?6e-4:a,r=t+u*u/(2*a)*(0>c?-1:1),l=u/a,o>r?(r=s?o-s/2.5*(u/8):o,c=n.abs(r-t),l=c/u):r>0&&(r=s?s/2.5*(u/8):0,c=n.abs(t)+r,l=c/u),{destination:n.round(r),duration:l}};var r=e("transform");return o.extend(o,{hasTransform:r!==!1,hasPerspective:e("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:e("transition")in s}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:r,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}),o.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*n.pow(2,-10*t)*n.sin(2*(t-e/4)*n.PI/e)+1}}}),o.tap=function(t,e){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},o.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(e=i.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,n.screenX,n.screenY,n.clientX,n.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,n.dispatchEvent(e))},o}();o.prototype={version:"5.1.3",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(!(1!=a.eventType[t.type]&&0!==t.button||!this.enabled||this.initiated&&a.eventType[t.type]!==this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,o,s,r=t.touches?t.touches[0]:t,l=r.pageX-this.pointX,c=r.pageY-this.pointY,u=a.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=l,this.distY+=c,o=n.abs(this.distX),s=n.abs(this.distY),!(u-this.endTime>300&&10>o&&10>s)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=o>s+this.options.directionLockThreshold?"h":s>=o+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,i=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+c/3:i>0?0:this.maxScrollY),this.directionX=l>0?-1:0>l?1:0,this.directionY=c>0?-1:0>c?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,o=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),s=n.round(this.x),r=n.round(this.y),l=n.abs(s-this.startX),c=n.abs(r-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(s,r),this.moved?this._events.flick&&200>o&&100>l&&100>c?void this._execEvent("flick"):(this.options.momentum&&300>o&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?a.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},s=e.destination,r=i.destination,u=n.max(e.duration,i.duration),this.isInTransition=1),s!=this.x||r!=this.y?((s>0||s<this.maxScrollX||r>0||r<this.maxScrollY)&&(h=a.ease.quadratic),void this.scrollTo(s,r,u,h)):void this._execEvent("scrollEnd")):(this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel"))}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,o,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=a.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,i===!0&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=i||0,r.top-=o||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-r.left),n.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,s)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[a.style.transitionDuration]=t+"ms",!t&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(t){this.scrollerStyle[a.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(n,a.prefixPointerEvent("pointermove"),this),i(n,a.prefixPointerEvent("pointercancel"),this),i(n,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[a.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_animate:function(t,e,i,n){function o(){var d,p,m,f=a.getTime();return f>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(f=(f-u)/i,m=n(f),d=(t-l)*m+l,p=(e-c)*m+c,r._translate(d,p),void(r.isAnimating&&s(o)))}var r=this,l=this.x,c=this.y,u=a.getTime(),h=u+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},o.utils=a,"undefined"!=typeof e&&e.exports?e.exports=o:t.IScroll=o}(window,document,Math)}),define("ui.modal",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.dimmer"],function(require,t,e){"use strict";function i(t,e){return this.each(function(){var i=o(this),n=i.data("am.modal"),s=o.extend({},l.DEFAULTS,"object"==typeof t&&t);n||i.data("am.modal",n=new l(this,s)),"string"==typeof t?n[t](e):n.toggle(t&&t.relatedElement||void 0)})}require("core");var n=require("ui.dimmer"),o=window.Zepto,s=o.AMUI,a=o(document),r=s.support.transition,l=function(t,e){this.options=o.extend({},l.DEFAULTS,e||{}),this.$element=o(t),this.$element.attr("id")||this.$element.attr("id",s.utils.generateGUID("am-modal")),this.isPopup=this.$element.hasClass("am-popup"),this.active=this.transitioning=null,this.events()};l.DEFAULTS={className:{active:"am-modal-active",out:"am-modal-out"},selector:{modal:".am-modal",active:".am-modal-active"},cancelable:!0,onConfirm:function(){},onCancel:function(){},duration:300,transitionEnd:r.end&&r.end+".modal.amui"},l.prototype.toggle=function(t){return this.active?this.close():this.open(t)},l.prototype.open=function(t){var e=this.$element,i=this.options,s=this.isPopup;if(!this.active&&this.$element.length){this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd)),s&&this.$element.show(),this.active=!0,e.trigger(o.Event("open:modal:amui",{relatedElement:t})),n.open(e),e.show().redraw(),!s&&e.css({marginTop:-parseInt(e.height()/2,10)+"px"}),e.removeClass(i.className.out).addClass(i.className.active),this.transitioning=1;var a=function(){e.trigger(o.Event("opened:modal:amui",{relatedElement:t})),this.transitioning=0};return r?void e.one(i.transitionEnd,o.proxy(a,this)).emulateTransitionEnd(i.duration):a.call(this)}},l.prototype.close=function(t){if(this.active){var e=this.$element,i=this.options,s=this.isPopup;this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd),n.close(e,!0)),this.$element.trigger(o.Event("close:modal:amui",{relatedElement:t})),this.transitioning=1;var a=function(){e.trigger("closed:modal:amui"),s&&e.removeClass(i.className.out),e.hide(),this.transitioning=0};if(e.removeClass(i.className.active).addClass(i.className.out),!r)return a.call(this);e.one(i.transitionEnd,o.proxy(a,this)).emulateTransitionEnd(i.duration),n.close(e,!1),this.active=!1}},l.prototype.events=function(){var t=this,e=this.$element,i=e.find(".am-modal-prompt-input");this.options.cancelable&&(e.on("keyup.modal.amui",o.proxy(function(t){this.active&&27===t.which&&(this.options.onCancel(),this.close())},t)),n.$element.on("click",function(){t.close()})),e.find("[data-am-modal-close]").on("click.modal.amui",function(e){e.preventDefault(),t.close()}),e.find(".am-modal-btn").on("click.modal.amui",function(){t.close()}),e.find("[data-am-modal-confirm]").on("click.modal.amui",function(){t.options.onConfirm(i.val())}),e.find("[data-am-modal-cancel]").on("click.modal.amui",function(){t.options.onCancel(i.val())})},o.fn.modal=i,a.on("click","[data-am-modal]",function(){var t=o(this),e=s.utils.parseOptions(t.attr("data-am-modal")),n=o(e.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("am.modal")?"toggle":e;i.call(n,a,this)}),s.modal=l,e.exports=l}),define("ui.offcanvas",["zepto.outerdemension","zepto.extend.data","core","zepto.extend.fx","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t,e){return this.each(function(){var i=o(this),n=i.data("am.offcanvas"),s=o.extend({},l.DEFAULTS,"object"==typeof t&&t);n||(i.data("am.offcanvas",n=new l(this,s)),n.open(e)),"string"==typeof t&&n[t]&&n[t](e)})}require("zepto.outerdemension"),require("zepto.extend.data"),require("core");var n,o=window.Zepto,s=o.AMUI,a=o(window),r=o(document),l=function(t,e){this.$element=o(t),this.options=e,this.active=null,this.events()};l.DEFAULTS={duration:300,effect:"overlay"},l.prototype.open=function(){var t=this.$element;if(t.length&&!t.hasClass("am-active")){var e=this.options.effect,i=o("html"),s=o("body"),l=t.find(".am-offcanvas-bar").first(),c=l.hasClass("am-offcanvas-bar-flip")?-1:1;l.addClass("am-offcanvas-bar-"+e),n={x:window.scrollX,y:window.scrollY},t.addClass("am-active"),s.css({width:window.innerWidth,height:a.height()}).addClass("am-offcanvas-page"),"overlay"!==e&&s.css({"margin-left":l.outerWidth()*c}).width(),i.css("margin-top",-1*n.y),setTimeout(function(){l.addClass("am-offcanvas-bar-active").width()},0),r.trigger("open:offcanvas:amui"),this.active=1,t.off(".offcanvas.amui").on("click.offcanvas.amui swipe.offcanvas.amui",o.proxy(function(t){var e=o(t.target);if(!t.type.match(/swipe/)){if(e.hasClass("am-offcanvas-bar"))return;if(e.parents(".am-offcanvas-bar").first().length)return}t.stopImmediatePropagation(),this.close()},this)),i.on("keydown.offcanvas.amui",o.proxy(function(t){27===t.keyCode&&this.close()},this))}},l.prototype.close=function(){function t(){a.removeClass("am-offcanvas-page").css({width:"",height:"","margin-left":"","margin-right":""}),l.removeClass("am-active"),c.removeClass("am-offcanvas-bar-active"),i.css("margin-top",""),window.scrollTo(n.x,n.y),r.trigger("closed:offcanvas:amui"),e.active=0}var e=this,i=o("html"),a=o("body"),l=this.$element,c=l.find(".am-offcanvas-bar").first();l.length&&l.hasClass("am-active")&&(r.trigger("close:offcanvas:amui"),s.support.transition?(setTimeout(function(){c.removeClass("am-offcanvas-bar-active")},0),a.css("margin-left","").one(s.support.transition.end,function(){t()}).emulateTransitionEnd(this.options.duration)):t(),l.off(".offcanvas.amui"),i.off(".offcanvas.amui"))},l.prototype.events=function(){return r.on("click.offcanvas.amui",'[data-am-dismiss="offcanvas"]',o.proxy(function(t){t.preventDefault(),this.close()},this)),a.on("resize.offcanvas.amui orientationchange.offcanvas.amui",o.proxy(function(){this.active&&this.close()},this)),this},o.fn.offCanvas=i,r.on("click.offcanvas.amui","[data-am-offcanvas]",function(t){t.preventDefault();var e=o(this),n=s.utils.parseOptions(e.data("amOffcanvas")),a=o(n.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("am.offcanvas")?"open":n;i.call(a,r,this)}),s.offcanvas=l,e.exports=l}),define("ui.popover",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("am.popover"),s=n.extend({},o.utils.parseOptions(e.attr("data-am-popover")),"object"==typeof t&&t);i||e.data("am.popover",i=new a(this,s)),"string"==typeof t&&i[t]()})}require("core");var n=window.Zepto,o=n.AMUI,s=n(window),a=function(t,e){this.options=n.extend({},a.DEFAULTS,e||{}),this.$element=n(t),this.active=null,this.$popover=this.options.target&&n(this.options.target)||null,this.init(),this.events()};a.DEFAULTS={trigger:"click",content:"",open:!1,target:void 0,tpl:'<div class="am-popover"><div class="am-popover-inner"></div><div class="am-popover-caret"></div></div>'},a.prototype.init=function(){function t(){i.sizePopover()}var e,i=this,s=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),e=this.$popover,e.appendTo(n("body")),this.sizePopover(),n(window).on("resize:popover:amui",o.utils.debounce(t,50)),s.on("open:popover:amui",function(){n(window).on("resize:popover:amui",o.utils.debounce(t,50))}),s.on("close:popover:amui",function(){n(window).off("resize:popover:amui",t)}),this.options.open&&this.open()},a.prototype.sizePopover=function(){var t=this.$element,e=this.$popover;if(e&&e.length){var i=e.getSize(),n=e.width()||i.width,o=e.height()||i.height,a=e.find(".am-popover-caret"),r=a.width()/2||10,l=o+r,c=t.outerWidth(),u=t.outerHeight(),h=t.offset(),d=t[0].getBoundingClientRect(),p=s.height(),m=s.width(),f=0,v=0,g=0,w=3,y="top";e.css({left:"",top:""}).removeClass("am-popover-left am-popover-right am-popover-top am-popover-bottom"),a.css({left:"",top:""}),l-w<d.top+w?f=h.top-l-w:l<p-d.top-d.height?(y="bottom",f=h.top+u+r+w):(y="middle",f=u/2+h.top-o/2),"top"===y||"bottom"===y?(v=c/2+h.left-n/2,g=v,5>v&&(v=5),v+n>m&&(v=m-n-20),"top"===y&&e.addClass("am-popover-bottom"),"bottom"===y&&e.addClass("am-popover-top"),g-=v,a.css({left:n/2-r+g+"px"})):"middle"===y&&(v=h.left-n-r,e.addClass("am-popover-left"),5>v&&(v=h.left+c+r,e.removeClass("am-popover-left").addClass("am-popover-right")),v+n>m&&(v=m-n-5,e.removeClass("am-popover-left").addClass("am-popover-right")),a.css({top:o/2-r/2+"px"})),e.css({top:f+"px",left:v+"px"})}},a.prototype.toggle=function(){return this[this.active?"close":"open"]()},a.prototype.open=function(){var t=this.$popover;this.$element.trigger("open:popover:amui"),this.sizePopover(),t.show().addClass("am-active"),this.active=!0},a.prototype.close=function(){var t=this.$popover;this.$element.trigger("close:popover:amui"),t.removeClass("am-active").trigger("closed:popover:amui").hide(),this.active=!1},a.prototype.getPopover=function(){var t=o.utils.generateGUID("am-popover");return n(this.options.tpl,{id:t})},a.prototype.setContent=function(){this.$popover&&this.$popover.find(".am-popover-inner").empty().html(this.options.content)},a.prototype.events=function(){for(var t="popover.amui",e=this.options.trigger.split(" "),i=e.length;i--;){var o=e[i];if("click"===o)this.$element.on("click."+t,n.proxy(this.toggle,this));else{var s="hover"==o?"mouseenter":"focusin",a="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+t,n.proxy(this.open,this)),this.$element.on(a+"."+t,n.proxy(this.close,this))}}},n.fn.popover=i,n(function(){n("[data-am-popover]").popover()}),o.popover=a,e.exports=a}),define("ui.progress",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";require("core");var i=window.Zepto,n=i.AMUI,o=function(){function t(t,e,i){return e>t?e:t>i?i:t}function e(t){return 100*(-1+t)}function n(t,i,n){var o;return o="translate3d"===a.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===a.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},o.transition="all "+i+"ms "+n,o}var o={},s=i("html");o.version="0.1.6";var a=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};o.configure=function(t){var e,i;for(e in t)i=t[e],void 0!==i&&t.hasOwnProperty(e)&&(a[e]=i);return this},o.status=null,o.set=function(e){var i=o.isStarted();e=t(e,a.minimum,1),o.status=1===e?null:e;var s=o.render(!i),c=s.querySelector(a.barSelector),u=a.speed,h=a.easing;return s.offsetWidth,r(function(t){""===a.positionUsing&&(a.positionUsing=o.getPositioningCSS()),l(c,n(e,u,h)),1===e?(l(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){l(s,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){o.remove(),t()},u)},u)):setTimeout(t,u)}),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var t=function(){setTimeout(function(){o.status&&(o.trickle(),t())},a.trickleSpeed)};return a.trickle&&t(),this},o.done=function(t){return t||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(e){var i=o.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),o.set(i)):o.start()},o.trickle=function(){return o.inc(Math.random()*a.trickleRate)},o.render=function(t){if(o.isRendered())return document.getElementById("nprogress");s.addClass("nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=a.template;var r,c=n.querySelector(a.barSelector),u=t?"-100":e(o.status||0),h=document.querySelector(a.parent);return l(c,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),a.showSpinner||(r=n.querySelector(a.spinnerSelector),r&&i(r).remove()),h!=document.body&&i(h).addClass("nprogress-custom-parent"),h.appendChild(n),n},o.remove=function(){s.removeClass("nprogress-busy"),i(a.parent).removeClass("nprogress-custom-parent");var t=document.getElementById("nprogress");t&&i(t).remove()},o.isRendered=function(){return!!document.getElementById("nprogress")},o.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var r=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),l=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i,n=o.length,s=t.charAt(0).toUpperCase()+t.slice(1);n--;)if(i=o[n]+s,i in e)return i;return t}function i(i){return i=t(i),s[i]||(s[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var o=["Webkit","O","Moz","ms"],s={};return function(t,e){var i,o,s=arguments;if(2==s.length)for(i in e)o=e[i],void 0!==o&&e.hasOwnProperty(i)&&n(t,i,o);else n(t,s[1],s[2])}}();return o}();n.progress=o,e.exports=o}),define("ui.pureview",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","zepto.pinchzoom","util.hammer"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=s(this),i=e.data("am.pureview"),n=s.extend({},a.utils.parseOptions(e.data("amPureview")),"object"==typeof t&&t);i||e.data("am.pureview",i=new c(this,n)),"string"==typeof t&&i[t]()})}require("core");var n=require("zepto.pinchzoom"),o=require("util.hammer"),s=window.Zepto,a=s.AMUI,r=a.support.animation,l=a.support.transition,c=function(t,e){this.$element=s(t),this.$body=s(document.body),this.options=s.extend({},c.DEFAULTS,e),this.$pureview=s(this.options.tpl,{id:a.utils.generateGUID("am-pureview")}),this.$slides=null,this.transitioning=null,this.scrollbarWidth=0,this.init()};c.DEFAULTS={tpl:'<div class="am-pureview am-pureview-bar-active"><ul class="am-pureview-slider"></ul><ul class="am-pureview-direction"><li class="am-pureview-prev"><a href=""></a></li><li class="am-pureview-next"><a href=""></a></li></ul><ol class="am-pureview-nav"></ol><div class="am-pureview-bar am-active"><span class="am-pureview-title"></span><span class="am-pureview-current"></span> / <span class="am-pureview-total"></span></div><div class="am-pureview-actions am-active"><a href="javascript: void(0)" class="am-icon-chevron-left" data-am-close="pureview"></a></div></div>',className:{prevSlide:"am-pureview-slide-prev",nextSlide:"am-pureview-slide-next",onlyOne:"am-pureview-only",active:"am-active",barActive:"am-pureview-bar-active",activeBody:"am-pureview-active"},selector:{slider:".am-pureview-slider",close:'[data-am-close="pureview"]',total:".am-pureview-total",current:".am-pureview-current",title:".am-pureview-title",actions:".am-pureview-actions",bar:".am-pureview-bar",pinchZoom:".am-pinch-zoom",nav:".am-pureview-nav"},shareBtn:!1,target:"img",weChatImagePreview:!0},c.prototype.init=function(){var t=this,e=this.options,i=this.$element,a=this.$pureview,r=a.find(e.selector.slider),l=a.find(e.selector.nav),c=s([]),u=s([]),h=i.find(e.target),d=h.length,p=[];d&&(1===d&&a.addClass(e.className.onlyOne),h.each(function(t,i){var n,o;"a"==e.target?(n=i.href,o=i.title||""):(n=s(i).data("rel")||i.src,o=s(i).attr("alt")||""),p.push(n),c=c.add(s('<li><div class="am-pinch-zoom"><img src="'+n+'" alt="'+o+'"/></div></li>')),u=u.add(s("<li>"+(t+1)+"</li>"))}),r.append(c),l.append(u),s("body").append(a),a.find(e.selector.total).text(d),this.$title=a.find(e.selector.title),this.$current=a.find(e.selector.current),this.$bar=a.find(e.selector.bar),this.$actions=a.find(e.selector.actions),this.$navItems=l.find("li"),this.$slides=r.find("li"),e.shareBtn&&this.$actions.append('<a href="javascript: void(0)" class="am-icon-share-square-o" data-am-toggle="share"></a>'),r.find(e.selector.pinchZoom).each(function(){s(this).data("amui.pinchzoom",new n(s(this),{})),s(this).on("pz_doubletap",function(){})}),h.on("click.pureview.amui",function(i){i.preventDefault();var n=h.index(this);e.weChatImagePreview&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("imagePreview",{current:p[n],urls:p}):t.open(n)}),a.find(".am-pureview-direction a").on("click.direction.pureview.amui",function(e){e.preventDefault();var i=s(e.target).parent("li");i.is(".am-pureview-prev")?t.prevSlide():t.nextSlide()}),this.$navItems.on("click.nav.pureview.amui",function(){var e=t.$navItems.index(s(this));t.activate(t.$slides.eq(e))}),a.find(e.selector.close).on("click.close.pureview.amui",function(e){e.preventDefault(),t.close()
}),r.hammer().on("press.pureview.amui",function(e){e.preventDefault(),t.toggleToolBar()}).on("swipeleft.pureview.amui",function(e){e.preventDefault(),t.nextSlide()}).on("swiperight.pureview.amui",function(e){e.preventDefault(),t.prevSlide()}),r.data("hammer").get("swipe").set({direction:o.DIRECTION_HORIZONTAL,velocity:.35}),s(document).on("keydown.pureview.amui",s.proxy(function(t){var e=t.keyCode;37==e?this.prevSlide():39==e?this.nextSlide():27==e&&this.close()},this)))},c.prototype.activate=function(t){var e=this.options,i=this.$slides,n=i.index(t),o=t.find("img").attr("alt")||"",r=e.className.active;a.utils.imageLoader(t.find("img"),function(t){s(t).addClass("am-img-loaded")}),i.find("."+r).is(t)||this.transitioning||(this.transitioning=1,this.$title.text(o),this.$current.text(n+1),i.removeClass(),t.addClass(r),i.eq(n-1).addClass(e.className.prevSlide),i.eq(n+1).addClass(e.className.nextSlide),this.$navItems.removeClass().eq(n).addClass(e.className.active),l?t.one(l.end,s.proxy(function(){this.transitioning=0},this)).emulateTransitionEnd(300):this.transitioning=0)},c.prototype.nextSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=t.index(e),n="am-animation-right-spring";i+1>=t.length?r&&e.addClass(n).on(r.end,function(){e.removeClass(n)}):this.activate(t.eq(i+1))}},c.prototype.prevSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=this.$slides.index(e),n="am-animation-left-spring";0===i?r&&e.addClass(n).on(r.end,function(){e.removeClass(n)}):this.activate(t.eq(i-1))}},c.prototype.toggleToolBar=function(){this.$pureview.toggleClass(this.options.className.barActive)},c.prototype.open=function(t){var e=t||0;this.checkScrollbar(),this.setScrollbar(),this.activate(this.$slides.eq(e)),this.$pureview.addClass(this.options.className.active),this.$body.addClass(this.options.className.activeBody)},c.prototype.close=function(){function t(){this.$body.removeClass(e.className.activeBody),this.resetScrollbar()}var e=this.options;this.$pureview.removeClass(e.className.active),this.$slides.removeClass(),l?this.$pureview.one(l.end,s.proxy(t,this)):t.call(this)},c.prototype.checkScrollbar=function(){this.scrollbarWidth=a.utils.measureScrollbar()},c.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},s.fn.pureview=i,s(function(){s("[data-am-pureview]").pureview()}),a.pureview=c,e.exports=c}),define("ui.scrollspy",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("am.scrollspy"),o="object"==typeof t&&t;i||e.data("am.scrollspy",i=new s(this,o)),"string"==typeof t&&i[t]()})}require("core");var n=window.Zepto,o=n.AMUI,s=function(t,e){if(o.support.animation){this.options=n.extend({},s.DEFAULTS,e),this.$element=n(t);var i=function(){o.utils.rAF.call(window,n.proxy(this.checkView,this))}.bind(this);this.$window=n(window).on("scroll.scrollspy.amui",i).on("resize.scrollspy.amui orientationchange.scrollspy.amui",o.utils.debounce(i,50)),this.timer=this.inViewState=this.initInView=null,i()}};s.DEFAULTS={animation:"fade",className:{inView:"am-scrollspy-inview",init:"am-scrollspy-init"},repeat:!0,delay:0,topOffset:0,leftOffset:0},s.prototype.checkView=function(){var t=this.$element,e=this.options,i=o.utils.isInView(t,e),n=e.animation?" am-animation-"+e.animation:"";i&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(t.addClass(e.className.init),this.offset=t.offset(),this.initInView=!0,t.trigger("init:scrollspy:amui")),this.timer=setTimeout(function(){i&&t.addClass(e.className.inView+n).width()},e.delay),this.inViewState=!0,t.trigger("inview:scrollspy:amui")),!i&&this.inViewState&&e.repeat&&(t.removeClass(e.className.inView+n),this.inViewState=!1,t.trigger("outview:scrollspy:amui"))},s.prototype.check=function(){o.utils.rAF.call(window,n.proxy(this.checkView,this))},n.fn.scrollspy=i,n(function(){n("[data-am-scrollspy]").each(function(){var t=n(this),e=o.utils.options(t.attr("data-am-scrollspy"));t.scrollspy(e)})}),o.scrollspy=s,e.exports=s}),define("ui.scrollspynav",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.smooth-scroll"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("am.scrollspynav"),o="object"==typeof t&&t;i||e.data("am.scrollspynav",i=new s(this,o)),"string"==typeof t&&i[t]()})}require("core"),require("ui.smooth-scroll");var n=window.Zepto,o=n.AMUI,s=function(t,e){this.options=n.extend({},s.DEFAULTS,e),this.$element=n(t),this.anchors=[],this.$links=this.$element.find('a[href^="#"]').each(function(t,e){this.anchors.push(n(e).attr("href"))}.bind(this)),this.$targets=n(this.anchors.join(", "));var i=function(){o.utils.rAF.call(window,n.proxy(this.process,this))}.bind(this);this.$window=n(window).on("scroll.scrollspynav.amui",i).on("resize.scrollspynav.amui orientationchange.scrollspynav.amui",o.utils.debounce(i,50)),i(),this.scrollProcess()};s.DEFAULTS={className:{active:"am-active"},closest:!1,smooth:!0},s.prototype.process=function(){var t=this.$window.scrollTop(),e=this.options,i=[],s=this.$links,a=this.$targets;if(a.each(function(t,n){o.utils.isInView(n,e)&&i.push(n)}),i.length){var r;if(n.each(i,function(e,i){return n(i).offset().top>=t?(r=n(i),!1):void 0}),!r)return;e.closest?(s.closest(e.closest).removeClass(e.className.active),s.filter('a[href="#'+r.attr("id")+'"]').closest(e.closest).addClass(e.className.active)):s.removeClass(e.className.active).filter('a[href="#'+r.attr("id")+'"]').addClass(e.className.active)}},s.prototype.scrollProcess=function(){var t=this.$links;this.options.smooth&&t.on("click",function(t){t.preventDefault();var e=n(this),i=n(e.attr("href"));i&&n(window).smoothScroll({position:i.offset().top})})},n.fn.scrollspynav=i,n(function(){n("[data-am-scrollspy-nav]").each(function(){var t=n(this),e=o.utils.options(t.attr("data-am-scrollspy-nav"));i.call(t,e)})}),o.scrollspynav=s,e.exports=s}),define("ui.share",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","util.qrcode"],function(require,t,e){"use strict";require("core"),require("ui.modal");var i=require("util.qrcode"),n=window.Zepto,o=n.AMUI,s=document,a=n(s),r=function(t){this.options=n.extend({},r.DEFAULTS,t||{}),this.$element=null,this.$wechatQr=null,this.pics=null,this.inited=!1,this.active=!1};r.DEFAULTS={sns:["weibo","qq","qzone","tqq","wechat","renren"],title:"分享到",cancel:"取消",closeOnShare:!0,id:o.utils.generateGUID("am-share"),desc:"Hi，孤夜观天象，发现一个不错的西西，分享一下下 ;-)",via:"Amaze UI",tpl:'<div class="am-share am-modal-actions" id="<%= id %>"><h3 class="am-share-title"><%= title %></h3><ul class="am-share-sns sm-block-grid-3"><% for(var i = 0; i < sns.length; i++) {%><li><a href="<%= sns[i].shareUrl %>" data-am-share-to="<%= sns[i].id %>" ><i class="am-icon-<%= sns[i].icon %>"></i><span><%= sns[i].title %></span></a></li><% } %></ul><div class="am-share-footer"><button class="am-btn am-btn-default am-btn-block" data-am-share-close><%= cancel %></button></div></div>'},r.SNS={weibo:{title:"新浪微博",url:"http://service.weibo.com/share/share.php",width:620,height:450,icon:"weibo"},qq:{title:"QQ 好友",url:"http://connect.qq.com/widget/shareqq/index.html",icon:"qq"},qzone:{title:"QQ 空间",url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",icon:"star"},tqq:{title:"腾讯微博",url:"http://v.t.qq.com/share/share.php",icon:"tencent-weibo"},wechat:{title:"微信",url:"[qrcode]",icon:"wechat"},renren:{title:"人人网",url:"http://widget.renren.com/dialog/share",icon:"renren"},douban:{title:"豆瓣",url:"http://www.douban.com/recommend/",icon:"share-alt"},mail:{title:"邮件分享",url:"mailto:",icon:"envelope-o"},sms:{title:"短信分享",url:"sms:",icon:"comment"}},r.prototype.render=function(){var t=this.options,e=[],i=encodeURIComponent(s.title),a=encodeURIComponent(s.location),l="?body="+i+a;return t.sns.forEach(function(n){if(r.SNS[n]){var o,s=r.SNS[n];s.id=n,o="mail"===n?l+"&subject="+t.desc:"sms"===n?l:"?url="+a+"&title="+i,s.shareUrl=s.url+o,e.push(s)}}),o.template(t.tpl,n.extend({},t,{sns:e}))},r.prototype.init=function(){if(!this.inited){var t=this,e="[data-am-share-to]";a.ready(n.proxy(function(){n("body").append(this.render()),this.$element=n("#"+this.options.id),this.$element.find("[data-am-share-close]").on("click.share.amui",function(){t.close()})},this)),a.on("click.share.amui",e,n.proxy(function(t){var i=n(t.target),o=i.is(e)&&i||i.parent(e),s=o.attr("data-am-share-to");"mail"!==s&&"sms"!==s&&(t.preventDefault(),this.shareTo(s,this.setData(s))),this.close()},this)),this.inited=!0}},r.prototype.open=function(){!this.inited&&this.init(),this.$element&&this.$element.modal("open"),this.$element.trigger("open:share:amui"),this.active=!0},r.prototype.close=function(){this.$element&&this.$element.modal("close"),this.$element.trigger("close:share:amui"),this.active=!1},r.prototype.toggle=function(){this.active?this.close():this.open()},r.prototype.setData=function(t){if(t){var e={url:s.location,title:s.title},i=this.options.desc,n=this.pics||[],o=/^(qzone|qq|tqq)$/;if(o.test(t)&&!n.length){for(var a=s.images,r=0;r<a.length&&10>r;r++)!!a[r].src&&n.push(encodeURIComponent(a[r].src));this.pics=n}switch(t){case"qzone":e.desc=i,e.site=this.options.via,e.pics=n.join("|");break;case"qq":e.desc=i,e.site=this.options.via,e.pics=n[0];break;case"tqq":e.pic=n.join("|")}return e}},r.prototype.shareTo=function(t,e){var i=r.SNS[t];if(i){if("wechat"===t||"weixin"===t)return this.wechatQr();var n=[];for(var o in e)e[o]&&n.push(o.toString()+"="+("pic"===o||"pics"===o?e[o]:encodeURIComponent(e[o])));window.open(i.url+"?"+n.join("&"))}},r.prototype.wechatQr=function(){if(!this.$wechatQr){var t=o.utils.generateGUID("am-share-wechat"),e=n('<div class="am-modal am-modal-no-btn am-share-wechat-qr"><div class="am-modal-dialog"><div class="am-modal-hd">分享到微信 <a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a> </div><div class="am-modal-bd"><div class="am-share-wx-qr"></div><div class="am-share-wechat-tip">打开微信，点击底部的<em>发现</em>，<br/> 使用<em>扫一扫</em>将网页分享至朋友圈</div></div></div></div>',{id:t}),a=new i({render:"canvas",correctLevel:0,text:s.location.href,width:180,height:180,background:"#fff",foreground:"#000"});e.find(".am-share-wx-qr").html(a),e.appendTo(n("body")),this.$wechatQr=n("#"+t)}this.$wechatQr.modal("open")};var l=new r;a.on("click.share.amui",'[data-am-toggle="share"]',function(t){t.preventDefault(),l.toggle()}),o.share=l,e.exports=l}),define("ui.smooth-scroll",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require){"use strict";var t=require("core"),e=t.utils.rAF,i=window.Zepto,n=!1;i.fn.smoothScroll=function(t){function i(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}function o(){l.off("touchstart.smoothscroll.amui",m),n=!1}t=t||{};var s,a,r,l=this,c=parseInt(t.position)||0,u=l.scrollTop(),h=u,d=c-u,p=t.speed||Math.min(750,Math.min(1500,Math.abs(u-c))),m=function(){o()};n||0!==d&&(l.on("touchstart.smoothscroll.amui",m),n=!0,e(function f(t){n&&(s||(s=t),a=Math.min(1,Math.max((t-s)/p,0)),r=Math.round(u+d*i(a)),d>0&&r>c&&(r=c),0>d&&c>r&&(r=c),h!=r&&l.scrollTop(r),h=r,r!==c?e(f):o())}))},i(document).on("click.smoothScroll.amui","[data-am-smooth-scroll]",function(e){e.preventDefault();var n=t.utils.parseOptions(i(this).attr("data-am-smooth-scroll"));i(window).smoothScroll(n)})}),define("ui.sticky",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=n(this),i=e.data("am.sticky"),o="object"==typeof t&&t;i||e.data("am.sticky",i=new s(this,o)),"string"==typeof t&&i[t]()})}require("core");var n=window.Zepto,o=n.AMUI,s=function(t,e){var i=this;this.options=n.extend({},s.DEFAULTS,e),this.$element=n(t),this.sticked=null,this.inited=null,this.$holder=void 0,this.$window=n(window).on("scroll.sticky.amui",o.utils.debounce(n.proxy(this.checkPosition,this),10)).on("resize.sticky.amui orientationchange.sticky.amui",o.utils.debounce(function(){i.reset(!0,function(){i.checkPosition()})},50)).on("load.sticky.amui",n.proxy(this.checkPosition,this)),this.offset=this.$element.offset(),this.init()};s.DEFAULTS={top:0,bottom:0,animation:"",className:{sticky:"am-sticky",resetting:"am-sticky-resetting",stickyBtm:"am-sticky-bottom",animationRev:"am-animation-reverse"}},s.prototype.init=function(){var t=this.check();if(!t)return!1;var e=this.$element,i=n('<div class="am-sticky-placeholder"></div>').css({height:"absolute"!=e.css("position")?e.outerHeight():"","float":"none"!=e.css("float")?e.css("float"):"",margin:e.css("margin")});return this.$holder=e.css("margin",0).wrap(i).parent(),this.inited=1,!0},s.prototype.reset=function(t,e){var i=this.options,n=this.$element,s=i.animation?" am-animation-"+i.animation:"",a=function(){n.css({position:"",top:"",width:"",left:"",margin:0}),n.removeClass([s,i.className.animationRev,i.className.sticky,i.className.resetting].join(" ")),this.animating=!1,this.sticked=!1,this.offset=n.offset(),e&&e()}.bind(this);n.addClass(i.className.resetting),!t&&i.animation&&o.support.animation?(this.animating=!0,n.removeClass(s).one(o.support.animation.end,function(){a()}).width(),n.addClass(s+" "+i.className.animationRev)):a()},s.prototype.check=function(){if(!this.$element.is(":visible"))return!1;var t=this.options.media;if(t)switch(typeof t){case"number":if(window.innerWidth<t)return!1;break;case"string":if(window.matchMedia&&!window.matchMedia(t).matches)return!1}return!0},s.prototype.checkPosition=function(){if(!this.inited){var t=this.init();if(!t)return}var e=this.options,i=this.$window.scrollTop(),n=e.top,o=e.bottom,s=this.$element,a=e.animation?" am-animation-"+e.animation:"",r=[e.className.sticky,a].join(" ");"function"==typeof o&&(o=o(this.$element));var l=i>this.$holder.offset().top;!this.sticked&&l?s.addClass(r):this.sticked&&!l&&this.reset(),this.$holder.height(s.height()),l&&s.css({top:n,left:this.$holder.offset().left,width:this.offset.width}),this.sticked=l},n.fn.sticky=i,n(window).on("load",function(){n("[data-am-sticky]").each(function(){var t=n(this),e=o.utils.options(t.attr("data-am-sticky"));i.call(t,e)})}),o.sticky=s,e.exports=s}),define("ui.tabs",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","util.hammer"],function(require,t,e){"use strict";function i(t){return this.each(function(){var e=o(this),i=e.is(".am-tabs")&&e||e.closest(".am-tabs"),n=i.data("amui.tabs"),a=o.extend({},o.isPlainObject(t)?t:{},s.utils.parseOptions(e.data("amTabs")));n||i.data("amui.tabs",n=new l(i[0],a)),"string"==typeof t&&e.is(".am-tabs-nav a")&&n[t](e)})}require("core");var n=require("util.hammer"),o=window.Zepto,s=o.AMUI,a=s.support.transition,r=s.support.animation,l=function(t,e){this.$element=o(t),this.options=o.extend({},l.DEFAULTS,e||{}),this.$tabNav=this.$element.find(this.options.selector.nav),this.$navs=this.$tabNav.find("a"),this.$content=this.$element.find(this.options.selector.content),this.$tabPanels=this.$content.find(this.options.selector.panel),this.transitioning=null,this.init()};l.DEFAULTS={selector:{nav:".am-tabs-nav",content:".am-tabs-bd",panel:".am-tab-panel"},className:{active:"am-active"}},l.prototype.init=function(){var t=this,e=this.options;if(1!==this.$tabNav.find("> .am-active").length){var i=this.$tabNav;this.activate(i.children("li").first(),i),this.activate(this.$tabPanels.first(),this.$content)}if(this.$navs.on("click.tabs.amui",function(e){e.preventDefault(),t.open(o(this))}),!e.noSwipe){var a=new n(this.$content[0]);a.get("pan").set({direction:n.DIRECTION_HORIZONTAL,threshold:120}),a.on("panleft",s.utils.debounce(function(i){i.preventDefault();var n=o(i.target);n.is(e.selector.panel)||(n=n.closest(e.selector.panel)),n.focus();var s=t.getNextNav(n);s&&t.open(s)},100)),a.on("panright",s.utils.debounce(function(i){i.preventDefault();var n=o(i.target);n.is(e.selector.panel)||(n=n.closest(e.selector.panel));var s=t.getPrevNav(n);s&&t.open(s)},100))}},l.prototype.open=function(t){if(t&&!this.transitioning&&!t.parent("li").hasClass("am-active")){var e=this.$tabNav,i=this.$navs,n=this.$content,s=t.attr("href"),a=/^#.+$/,r=a.test(s)&&this.$content.find(s)||this.$tabPanels.eq(i.index(t)),l=e.find(".am-active a")[0],c=o.Event("open:tabs:amui",{relatedTarget:l});t.trigger(c),c.isDefaultPrevented()||(this.activate(t.closest("li"),e),this.activate(r,n,function(){t.trigger({type:"opened:tabs:amui",relatedTarget:l})}))}},l.prototype.activate=function(t,e,i){function n(){i&&i(),this.transitioning=!1}this.transitioning=!0;var s=e.find("> .am-active"),r=i&&a&&!!s.length;s.removeClass("am-active am-in"),t.addClass("am-active"),r?(t.redraw(),t.addClass("am-in")):t.removeClass("am-fade"),r?s.one(a.end,o.proxy(n,this)):o.proxy(n,this)()},l.prototype.getNextNav=function(t){var e=this.$tabPanels.index(t),i="am-animation-right-spring";return e+1>=this.$navs.length?(r&&t.addClass(i).on(r.end,function(){t.removeClass(i)}),null):this.$navs.eq(e+1)},l.prototype.getPrevNav=function(t){var e=this.$tabPanels.index(t),i="am-animation-left-spring";return 0===e?(r&&t.addClass(i).on(r.end,function(){t.removeClass(i)}),null):this.$navs.eq(e-1)},o.fn.tabs=i,o(document).on("ready",function(){o("[data-am-tabs]").tabs()}),s.tabs=l,e.exports=l}),define("util.cookie",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";require("core");var i=window.Zepto,n=i.AMUI,o={get:function(t){var e,i=encodeURIComponent(t)+"=",n=document.cookie.indexOf(i),o=null;return n>-1&&(e=document.cookie.indexOf(";",n),-1==e&&(e=document.cookie.length),o=decodeURIComponent(document.cookie.substring(n+i.length,e))),o},set:function(t,e,i,n,o,s){var a=encodeURIComponent(t)+"="+encodeURIComponent(e);i instanceof Date&&(a+="; expires="+i.toGMTString()),n&&(a+="; path="+n),o&&(a+="; domain="+o),s&&(a+="; secure"),document.cookie=a},unset:function(t,e,i,n){this.set(t,"",new Date(0),e,i,n)}};n.utils.cookie=o,e.exports=o}),define("util.fullscreen",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t,e){"use strict";require("core");var i=window.Zepto,n=i.AMUI,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,s=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=i.length,s={};o>n;n++)if(t=i[n],t&&t[1]in document){for(n=0,e=t.length;e>n;n++)s[i[0][n]]=t[n];return s}return!1}(),a={request:function(t){var e=s.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[s.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(){},onerror:function(){},raw:s};return s?(Object.defineProperties(a,{isFullscreen:{get:function(){return!!document[s.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[s.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[s.fullscreenEnabled]}}}),document.addEventListener(s.fullscreenchange,function(t){a.onchange.call(a,t)}),document.addEventListener(s.fullscreenerror,function(t){a.onerror.call(a,t)}),n.fullscreen=a,void(e.exports=a)):void(e.exports=!1)}),define("util.qrcode",[],function(require,t,e){function i(t){return 128>t?[t]:2048>t?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function n(t){for(var e=[],n=0;n<t.length;n++)for(var o=t.charCodeAt(n),s=i(o),a=0;a<s.length;a++)e.push(s[a]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=n(t),this.make()}function s(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function a(){this.buffer=new Array,this.length=0}function i(t){return 128>t?[t]:2048>t?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function n(t){for(var e=[],n=0;n<t.length;n++)for(var o=t.charCodeAt(n),s=i(o),a=0;a<s.length;a++)e.push(s[a]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=n(t),this.make()}function s(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function a(){this.buffer=new Array,this.length=0}var r=Zepto,c=[],u=function(t){"string"==typeof t&&(t={text:t}),this.options=r.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},t);for(var e=null,i=0,n=c.length;n>i;i++)if(c[i].text==this.options.text&&c[i].text.correctLevel==this.options.correctLevel){e=c[i].obj;break}if(i==n&&(e=new o(this.options.text,this.options.correctLevel),c.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};u.prototype.createDefault=function(t){var e=document.createElement("canvas");return e.getContext?this.createCanvas(t):document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(t):this.createTable(t)},u.prototype.createCanvas=function(t){var e=document.createElement("canvas");e.width=this.options.width,e.height=this.options.height;for(var i=e.getContext("2d"),n=(this.options.width/t.getModuleCount()).toPrecision(4),o=this.options.height/t.getModuleCount().toPrecision(4),s=0;s<t.getModuleCount();s++)for(var a=0;a<t.getModuleCount();a++){i.fillStyle=t.modules[s][a]?this.options.foreground:this.options.background;var r=Math.ceil((a+1)*n)-Math.floor(a*n),l=Math.ceil((s+1)*n)-Math.floor(s*n);i.fillRect(Math.round(a*n),Math.round(s*o),r,l)}return e},u.prototype.createTable=function(t){var e=[];e.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var i=-1,n=-1,o=-1,s=-1;i=o=Math.floor(this.options.width/t.getModuleCount()),n=s=Math.floor(this.options.height/t.getModuleCount()),0>=o&&(i=t.getModuleCount()<80?2:1),0>=s&&(n=t.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.background+'"></td>',l=t.getModuleCount();for(var a=0;l>a;a++){e.push('<tr style="border:0px; margin:0px; padding:0px; height: '+n+'px">');for(var r=0;l>r;r++)e.push(t.modules[a][r]?foreTd:backTd);e.push("</tr>")}e.push("</table>");var c=document.createElement("span");return c.innerHTML=e.join(""),c.firstChild},u.prototype.createSVG=function(t){for(var e,i,n,o,s=t.getModuleCount(),a=this.options.height/this.options.width,l='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*s+" "+10*s*a+'">',c="<path ",u=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',h=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',d=0;s>d;d++)for(var p=0;s>p;p++)e=10*p,n=10*d*a,i=10*(p+1),o=10*(d+1)*a,l+=c+'d="M '+e+","+n+" L "+i+","+n+" L "+i+","+o+" L "+e+","+o+' Z"',l+=t.modules[d][p]?u:h;return l+="</svg>",r(l)[0]},e.exports=u,r.AMUI.qrcode=u,o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?!0:!1)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;8>n;n++){this.makeImpl(n);var o=p.getLostPoint(this);(0==n||t>o)&&(t=o,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=p.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var s=-2;2>=s;s++)for(var a=-2;2>=a;a++)this.modules[n+s][o+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=p.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=h[this.errorCorrectLevel]<<3|e,n=p.getBCHTypeInfo(i),o=0;15>o;o++){var s=!t&&1==(n>>o&1);6>o?this.modules[o][8]=s:8>o?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s;var s=!t&&1==(n>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=s:9>o?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new a,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;n>i;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,o=this.rsBlock.length/3,a=new Array,r=0;o>r;r++)for(var l=this.rsBlock[3*r+0],c=this.rsBlock[3*r+1],u=this.rsBlock[3*r+2],h=0;l>h;h++)a.push([u,c]);for(var d=new Array(a.length),m=new Array(a.length),f=0;f<a.length;f++){var v=a[f][0],g=a[f][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[f]=new Array(v);for(var r=0;r<d[f].length;r++)d[f][r]=255&t.buffer[r+e];e+=v;var w=p.getErrorCorrectPolynomial(g),y=new s(d[f],w.getLength()-1),b=y.mod(w);m[f]=new Array(w.getLength()-1);for(var r=0;r<m[f].length;r++){var T=r+b.getLength()-m[f].length;m[f][r]=T>=0?b.get(T):0}}for(var x=new Array(this.totalDataCount),E=0,r=0;i>r;r++)for(var f=0;f<a.length;f++)r<d[f].length&&(x[E++]=d[f][r]);for(var r=0;n>r;r++)for(var f=0;f<a.length;f++)r<m[f].length&&(x[E++]=m[f][r]);return x},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var r=0;2>r;r++)if(null==this.modules[n][a-r]){var l=!1;s<t.length&&(l=1==(t[s]>>>o&1));var c=p.getMask(e,n,a-r);c&&(l=!l),this.modules[n][a-r]=l,o--,-1==o&&(s++,o=7)}if(n+=i,0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17;for(var h=[1,0,3,2],d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case d.PATTERN000:return(e+i)%2==0;case d.PATTERN001:return e%2==0;case d.PATTERN010:return i%3==0;case d.PATTERN011:return(e+i)%3==0;case d.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case d.PATTERN101:return e*i%2+e*i%3==0;case d.PATTERN110:return(e*i%2+e*i%3)%2==0;case d.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new s([1],0),i=0;t>i;i++)e=e.multiply(new s([1,m.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,o=0;e>o;o++)for(var s=0,a=t.modules[o][0],r=0;e>r;r++){var l=t.modules[o][r];if(e-6>r&&l&&!t.modules[o][r+1]&&t.modules[o][r+2]&&t.modules[o][r+3]&&t.modules[o][r+4]&&!t.modules[o][r+5]&&t.modules[o][r+6]&&(e-10>r?t.modules[o][r+7]&&t.modules[o][r+8]&&t.modules[o][r+9]&&t.modules[o][r+10]&&(i+=40):r>3&&t.modules[o][r-1]&&t.modules[o][r-2]&&t.modules[o][r-3]&&t.modules[o][r-4]&&(i+=40)),e-1>o&&e-1>r){var c=0;l&&c++,t.modules[o+1][r]&&c++,t.modules[o][r+1]&&c++,t.modules[o+1][r+1]&&c++,(0==c||4==c)&&(i+=3)}a^l?s++:(a=l,s>=5&&(i+=3+s-5),s=1),l&&n++}for(var r=0;e>r;r++)for(var s=0,a=t.modules[0][r],o=0;e>o;o++){var l=t.modules[o][r];e-6>o&&l&&!t.modules[o+1][r]&&t.modules[o+2][r]&&t.modules[o+3][r]&&t.modules[o+4][r]&&!t.modules[o+5][r]&&t.modules[o+6][r]&&(e-10>o?t.modules[o+7][r]&&t.modules[o+8][r]&&t.modules[o+9][r]&&t.modules[o+10][r]&&(i+=40):o>3&&t.modules[o-1][r]&&t.modules[o-2][r]&&t.modules[o-3][r]&&t.modules[o-4][r]&&(i+=40)),a^l?s++:(a=l,s>=5&&(i+=3+s-5),s=1)}var u=Math.abs(100*n/e/e-50)/5;return i+=10*u}},m={glog:function(t){if(1>t)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;8>f;f++)m.EXP_TABLE[f]=1<<f;for(var f=8;256>f;f++)m.EXP_TABLE[f]=m.EXP_TABLE[f-4]^m.EXP_TABLE[f-5]^m.EXP_TABLE[f-6]^m.EXP_TABLE[f-8];for(var f=0;255>f;f++)m.LOG_TABLE[m.EXP_TABLE[f]]=f;s.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=m.gexp(m.glog(this.get(i))+m.glog(t.get(n)));
return new s(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(0>e-i)return this;for(var n=new Array(e),o=0;e>o;o++)n[o]=this.get(o);for(;n.length>=i;){for(var a=m.glog(n[0])-m.glog(t.get(0)),o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+a);for(;0==n[0];)n.shift()}return new s(n,0)}};var v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];o.prototype.getRightType=function(){for(var t=1;41>t;t++){var e=v[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,o=0;i>o;o++){var s=e[3*o+0],a=e[3*o+2];n+=a*s}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},a.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;e>i;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;7>=i;i++)if(!(-1>=t+i||this.moduleCount<=t+i))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+i][e+n]=i>=0&&6>=i&&(0==n||6==n)||n>=0&&6>=n&&(0==i||6==i)||i>=2&&4>=i&&n>=2&&4>=n?!0:!1)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;8>n;n++){this.makeImpl(n);var o=p.getLostPoint(this);(0==n||t>o)&&(t=o,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=p.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],o=t[i];if(null==this.modules[n][o])for(var s=-2;2>=s;s++)for(var a=-2;2>=a;a++)this.modules[n+s][o+a]=-2==s||2==s||-2==a||2==a||0==s&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=p.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=h[this.errorCorrectLevel]<<3|e,n=p.getBCHTypeInfo(i),o=0;15>o;o++){var s=!t&&1==(n>>o&1);6>o?this.modules[o][8]=s:8>o?this.modules[o+1][8]=s:this.modules[this.moduleCount-15+o][8]=s;var s=!t&&1==(n>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=s:9>o?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new a,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;n>i;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,o=this.rsBlock.length/3,a=new Array,r=0;o>r;r++)for(var l=this.rsBlock[3*r+0],c=this.rsBlock[3*r+1],u=this.rsBlock[3*r+2],h=0;l>h;h++)a.push([u,c]);for(var d=new Array(a.length),m=new Array(a.length),f=0;f<a.length;f++){var v=a[f][0],g=a[f][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[f]=new Array(v);for(var r=0;r<d[f].length;r++)d[f][r]=255&t.buffer[r+e];e+=v;var w=p.getErrorCorrectPolynomial(g),y=new s(d[f],w.getLength()-1),b=y.mod(w);m[f]=new Array(w.getLength()-1);for(var r=0;r<m[f].length;r++){var T=r+b.getLength()-m[f].length;m[f][r]=T>=0?b.get(T):0}}for(var x=new Array(this.totalDataCount),E=0,r=0;i>r;r++)for(var f=0;f<a.length;f++)r<d[f].length&&(x[E++]=d[f][r]);for(var r=0;n>r;r++)for(var f=0;f<a.length;f++)r<m[f].length&&(x[E++]=m[f][r]);return x},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,o=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var r=0;2>r;r++)if(null==this.modules[n][a-r]){var l=!1;s<t.length&&(l=1==(t[s]>>>o&1));var c=p.getMask(e,n,a-r);c&&(l=!l),this.modules[n][a-r]=l,o--,-1==o&&(s++,o=7)}if(n+=i,0>n||this.moduleCount<=n){n-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17;for(var h=[1,0,3,2],d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case d.PATTERN000:return(e+i)%2==0;case d.PATTERN001:return e%2==0;case d.PATTERN010:return i%3==0;case d.PATTERN011:return(e+i)%3==0;case d.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case d.PATTERN101:return e*i%2+e*i%3==0;case d.PATTERN110:return(e*i%2+e*i%3)%2==0;case d.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new s([1],0),i=0;t>i;i++)e=e.multiply(new s([1,m.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,o=0;e>o;o++)for(var s=0,a=t.modules[o][0],r=0;e>r;r++){var l=t.modules[o][r];if(e-6>r&&l&&!t.modules[o][r+1]&&t.modules[o][r+2]&&t.modules[o][r+3]&&t.modules[o][r+4]&&!t.modules[o][r+5]&&t.modules[o][r+6]&&(e-10>r?t.modules[o][r+7]&&t.modules[o][r+8]&&t.modules[o][r+9]&&t.modules[o][r+10]&&(i+=40):r>3&&t.modules[o][r-1]&&t.modules[o][r-2]&&t.modules[o][r-3]&&t.modules[o][r-4]&&(i+=40)),e-1>o&&e-1>r){var c=0;l&&c++,t.modules[o+1][r]&&c++,t.modules[o][r+1]&&c++,t.modules[o+1][r+1]&&c++,(0==c||4==c)&&(i+=3)}a^l?s++:(a=l,s>=5&&(i+=3+s-5),s=1),l&&n++}for(var r=0;e>r;r++)for(var s=0,a=t.modules[0][r],o=0;e>o;o++){var l=t.modules[o][r];e-6>o&&l&&!t.modules[o+1][r]&&t.modules[o+2][r]&&t.modules[o+3][r]&&t.modules[o+4][r]&&!t.modules[o+5][r]&&t.modules[o+6][r]&&(e-10>o?t.modules[o+7][r]&&t.modules[o+8][r]&&t.modules[o+9][r]&&t.modules[o+10][r]&&(i+=40):o>3&&t.modules[o-1][r]&&t.modules[o-2][r]&&t.modules[o-3][r]&&t.modules[o-4][r]&&(i+=40)),a^l?s++:(a=l,s>=5&&(i+=3+s-5),s=1)}var u=Math.abs(100*n/e/e-50)/5;return i+=10*u}},m={glog:function(t){if(1>t)throw new Error("glog("+t+")");return m.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return m.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;8>f;f++)m.EXP_TABLE[f]=1<<f;for(var f=8;256>f;f++)m.EXP_TABLE[f]=m.EXP_TABLE[f-4]^m.EXP_TABLE[f-5]^m.EXP_TABLE[f-6]^m.EXP_TABLE[f-8];for(var f=0;255>f;f++)m.LOG_TABLE[m.EXP_TABLE[f]]=f;s.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=m.gexp(m.glog(this.get(i))+m.glog(t.get(n)));return new s(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(0>e-i)return this;for(var n=new Array(e),o=0;e>o;o++)n[o]=this.get(o);for(;n.length>=i;){for(var a=m.glog(n[0])-m.glog(t.get(0)),o=0;o<t.getLength();o++)n[o]^=m.gexp(m.glog(t.get(o))+a);for(;0==n[0];)n.shift()}return new s(n,0)}},v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.prototype.getRightType=function(){for(var t=1;41>t;t++){var e=v[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,o=0;i>o;o++){var s=e[3*o+0],a=e[3*o+2];n+=a*s}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},a.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;e>i;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}}),define("zepto.flexslider",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require){var t=window.Zepto;require("core"),require("zepto.extend.data"),t.data=function(e,i,n){return t(e).data(i,n)},["Left","Top"].forEach(function(e,i){function n(t){return t&&"object"==typeof t&&"setInterval"in t}function o(t){return n(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var s="scroll"+e;t.fn[s]=function(e){var n,a;return void 0===e?(n=this[0])?(a=o(n),a?"pageXOffset"in a?a[i?"pageYOffset":"pageXOffset"]:a.document.documentElement[s]||a.document.body[s]:n[s]):null:void this.each(function(){if(a=o(this)){var n=i?t(a).scrollLeft():e,r=i?e:t(a).scrollTop();a.scrollTo(n,r)}else this[s]=e})}}),["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});t.fn["outer"+i]=function(t){var i=this;if(i){var n=i[e](),o={width:["left","right"],height:["top","bottom"]};return o[e].forEach(function(e){t&&(n+=parseInt(i.css("margin-"+e),10))}),n}return null}}),t.flexslider=function(e,i){var n=t(e);n.vars=t.extend({},t.flexslider.defaults,i);var o,s=n.vars.namespace,a=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||a||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp keyup",c="",u="vertical"===n.vars.direction,h=n.vars.reverse,d=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={},v=!0;t.data(e,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=t(n.vars.selector,n),n.container=t(n.containerSelector,n),n.count=n.slides.length,n.syncExists=t(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=u?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return n.pfx=e[i].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=t(n.vars.controlsContainer).length>0&&t(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=t(n.vars.manualControls).length>0&&t(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===t(n.containerSelector).length||n.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!n.animating&&(39===e||37===e)){var i=39===e?n.getTarget("next"):37===e?n.getTarget("prev"):!1;n.flexAnimate(i,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(t,e){t.preventDefault();var i=n.getTarget(0>e?"next":"prev");n.flexAnimate(i,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&(n.on("mouseover",function(){n.manualPlay||n.manualPause||n.pause()}),n.on("mouseout",function(){n.manualPause||n.manualPlay||n.stopped||n.play()})),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),r&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",f.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),a?(e._slider=n,n.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var i=t(this),o=i.index();t(n.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(n.direction=n.currentItem<o?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(l,function(e){e.preventDefault();var i=t(this),o=i.index(),a=i.offset().left-t(n).scrollLeft();0>=a&&i.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):t(n.vars.asNavFor).data("flexslider").animating||i.hasClass(s+"active-slide")||(n.direction=n.currentItem<o?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var e,i,o="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",a=1;if(n.controlNavScaffold=t('<ol class="'+s+"control-nav "+s+o+'"></ol>'),n.pagingCount>1)for(var r=0;r<n.pagingCount;r++){if(i=n.slides.eq(r),e="thumbnails"===n.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+a+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var u=i.attr("data-thumbcaption");""!=u&&void 0!=u&&(e+='<span class="'+s+'caption">'+u+"</span>")}n.controlNavScaffold.append("<li>"+e+"<i></i></li>"),a++}n.controlsContainer?t(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(e){if(e.preventDefault(),""===c||c===e.type){var i=t(this),o=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=o>n.currentSlide?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction))}""===c&&(c=e.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(l,function(e){if(e.preventDefault(),""===c||c===e.type){var i=t(this),o=n.controlNav.index(i);i.hasClass(s+"active")||(n.direction=o>n.currentSlide?"next":"prev",n.flexAnimate(o,n.vars.pauseOnAction))}""===c&&(c=e.type),f.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=t("."+s+"control-nav li "+e,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(e,i){n.pagingCount>1&&"add"===e?n.controlNavScaffold.append(t("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(i).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(i,e):f.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+n.vars.prevText+'</a></li><li><a class="'+s+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.controlsContainer?(t(n.controlsContainer).append(e),n.directionNav=t("."+s+"direction-nav li a",n.controlsContainer)):(n.append(e),n.directionNav=t("."+s+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(l,function(e){e.preventDefault();var i;(""===c||c===e.type)&&(i=n.getTarget(t(this).hasClass(s+"next")?"next":"prev"),n.flexAnimate(i,n.vars.pauseOnAction)),""===c&&(c=e.type),f.setToClearWatchedEvent()})},update:function(){var t=s+"disabled";1===n.pagingCount?n.directionNav.addClass(t).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(t).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(t).filter("."+s+"prev").addClass(t).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(t).filter("."+s+"next").addClass(t).attr("tabindex","-1"):n.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+s+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(e),n.pausePlay=t("."+s+"pauseplay a",n.controlsContainer)):(n.append(e),n.pausePlay=t("."+s+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(l,function(e){e.preventDefault(),(""===c||c===e.type)&&(t(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===c&&(c=e.type),f.setToClearWatchedEvent()})},update:function(t){"play"===t?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function t(t){n.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(n.pause(),v=u?n.h:n.w,w=Number(new Date),b=t.touches[0].pageX,T=t.touches[0].pageY,f=d&&h&&n.animatingTo===n.last?0:d&&h?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:d&&n.currentSlide===n.last?n.limit:d?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:h?(n.last-n.currentSlide+n.cloneOffset)*v:(n.currentSlide+n.cloneOffset)*v,c=u?T:b,m=u?b:T,e.addEventListener("touchmove",i,!1),e.addEventListener("touchend",o,!1))}function i(t){b=t.touches[0].pageX,T=t.touches[0].pageY,g=u?c-T:c-b,y=u?Math.abs(g)<Math.abs(b-m):Math.abs(g)<Math.abs(T-m);var e=500;(!y||Number(new Date)-w>e)&&(t.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(g/=0===n.currentSlide&&0>g||n.currentSlide===n.last&&g>0?Math.abs(g)/v+2:1),n.setProps(f+g,"setTouch")))}function o(){if(e.removeEventListener("touchmove",i,!1),n.animatingTo===n.currentSlide&&!y&&null!==g){var t=h?-g:g,s=n.getTarget(t>0?"next":"prev");n.canAdvance(s)&&(Number(new Date)-w<550&&Math.abs(t)>50||Math.abs(t)>v/2)?n.flexAnimate(s,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}e.removeEventListener("touchend",o,!1),c=null,m=null,g=null,f=null}function s(t){t.stopPropagation(),n.animating?t.preventDefault():(n.pause(),e._gesture.addPointer(t.pointerId),x=0,v=u?n.h:n.w,w=Number(new Date),f=d&&h&&n.animatingTo===n.last?0:d&&h?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:d&&n.currentSlide===n.last?n.limit:d?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:h?(n.last-n.currentSlide+n.cloneOffset)*v:(n.currentSlide+n.cloneOffset)*v)}function r(t){t.stopPropagation();var i=t.target._slider;if(i){var n=-t.translationX,o=-t.translationY;return x+=u?o:n,g=x,y=u?Math.abs(x)<Math.abs(-n):Math.abs(x)<Math.abs(-o),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){e._gesture.stop()}):void((!y||Number(new Date)-w>500)&&(t.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(g=x/(0===i.currentSlide&&0>x||i.currentSlide===i.last&&x>0?Math.abs(x)/v+2:1)),i.setProps(f+g,"setTouch"))))}}function l(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!y&&null!==g){var i=h?-g:g,n=e.getTarget(i>0?"next":"prev");e.canAdvance(n)&&(Number(new Date)-w<550&&Math.abs(i)>50||Math.abs(i)>v/2)?e.flexAnimate(n,e.vars.pauseOnAction):p||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}c=null,m=null,g=null,f=null,x=0}}var c,m,f,v,g,w,y=!1,b=0,T=0,x=0;a?(e.style.msTouchAction="none",e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",s,!1),e._slider=n,e.addEventListener("MSGestureChange",r,!1),e.addEventListener("MSGestureEnd",l,!1)):e.addEventListener("touchstart",t,!1)},resize:function(){!n.animating&&n.is(":visible")&&(d||n.doMath(),p?f.smoothHeight():d?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):u?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(t){if(!u||p){var e=p?n:n.viewport;t?e.animate({height:n.slides.eq(n.animatingTo).height()},t):e.height(n.slides.eq(n.animatingTo).height())}},sync:function(e){var i=t(n.vars.sync).data("flexslider"),o=n.animatingTo;switch(e){case"animate":i.flexAnimate(o,n.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)t[e]+"Hidden"in document&&(f.pauseInvisible.visProp=t[e]+"Hidden");if(f.pauseInvisible.visProp){var i=f.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[f.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(o),o=setTimeout(function(){c=""},3e3)}},n.flexAnimate=function(e,i,o,a,l){if(n.vars.animationLoop||e===n.currentSlide||(n.direction=e>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<e?"next":"prev"),!n.animating&&(n.canAdvance(e,l)||o)&&n.is(":visible")){if(m&&a){var c=t(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===e||e===n.count-1,c.flexAnimate(e,!0,!1,!0,l),n.direction=n.currentItem<e?"next":"prev",c.direction=n.direction,Math.ceil((e+1)/n.visible)-1===n.currentSlide||0===e)return n.currentItem=e,n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),!1;n.currentItem=e,n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),e=Math.floor(e/n.visible)}if(n.animating=!0,n.animatingTo=e,i&&n.pause(),n.vars.before(n),n.syncExists&&!l&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),d||n.slides.removeClass(s+"active-slide").eq(e).addClass(s+"active-slide"),n.atEnd=0===e||e===n.last,n.vars.directionNav&&f.directionNav.update(),e===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)r?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(e).css({opacity:1,zIndex:2}),n.wrapup(y)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(e).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var v,g,w,y=u?n.slides.filter(":first").height():n.computedW;d?(v=n.vars.itemMargin,w=(n.itemW+v)*n.move*n.animatingTo,g=w>n.limit&&1!==n.visible?n.limit:w):g=0===n.currentSlide&&e===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?h?(n.count+n.cloneOffset)*y:0:n.currentSlide===n.last&&0===e&&n.vars.animationLoop&&"prev"!==n.direction?h?0:(n.count+1)*y:h?(n.count-1-e+n.cloneOffset)*y:(e+n.cloneOffset)*y,n.setProps(g,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(y)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(y)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(y)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(t){p||d||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(t,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(t,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&v&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(t,e){var i=m?n.pagingCount-1:n.last;return e?!0:m&&n.currentItem===n.count-1&&0===t&&"prev"===n.direction?!0:m&&0===n.currentItem&&t===n.pagingCount-1&&"next"!==n.direction?!1:t!==n.currentSlide||m?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&t===i&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===i&&0===t&&"next"===n.direction?!1:!0:!1},n.getTarget=function(t){return n.direction=t,"next"===t?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(t,e,i){var o=function(){var i=t?t:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,o=function(){if(d)return"setTouch"===e?t:h&&n.animatingTo===n.last?0:h?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:i;
switch(e){case"setTotal":return h?(n.count-1-n.currentSlide+n.cloneOffset)*t:(n.currentSlide+n.cloneOffset)*t;case"setTouch":return h?t:t;case"jumpEnd":return h?t:n.count*t;case"jumpStart":return h?n.count*t:t;default:return t}}();return-1*o+"px"}();n.transitions&&(o=u?"translate3d(0,"+o+",0)":"translate3d("+o+",0,0)",i=void 0!==i?i/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",i),n.container.css("transition-duration",i)),n.args[n.prop]=o,(n.transitions||void 0===i)&&n.container.css(n.args),n.container.css("transform",o)},n.setup=function(e){if(p)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(r?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var i,o;"init"===e&&(n.viewport=t('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,h&&(o=t.makeArray(n.slides).reverse(),n.slides=t(o),n.container.empty().append(n.slides))),n.vars.animationLoop&&!d&&(n.cloneCount=2,n.cloneOffset=1,"init"!==e&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=t(n.vars.selector,n),i=h?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,u&&!d?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(i*n.h,"init")},"init"===e?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(i*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===e?100:0))}d||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide"),n.vars.init(n)},n.doMath=function(){var t=n.slides.first(),e=n.vars.itemMargin,i=n.vars.minItems,o=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=t.height(),n.boxPadding=t.outerWidth()-t.width(),d?(n.itemT=n.vars.itemWidth+e,n.minW=i?i*n.itemT:n.w,n.maxW=o?o*n.itemT-e:n.w,n.itemW=n.minW>n.w?(n.w-e*(i-1))/i:n.maxW<n.w?(n.w-e*(o-1))/o:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+e*(n.count-1):(n.itemW+e)*n.count-n.w-e):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(t,e){n.doMath(),d||(t<n.currentSlide?n.currentSlide+=1:t<=n.currentSlide&&0!==t&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===e&&!d||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===e&&!d||n.pagingCount<n.controlNav.length)&&(d&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(e,i){var o=t(e);n.count+=1,n.last=n.count-1,u&&h?void 0!==i?n.slides.eq(n.count-i).after(o):n.container.prepend(o):void 0!==i?n.slides.eq(i).before(o):n.container.append(o),n.update(i,"add"),n.slides=t(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(e){var i=isNaN(e)?n.slides.index(t(e)):e;n.count-=1,n.last=n.count-1,isNaN(e)?t(e,n.slides).remove():u&&h?n.slides.eq(n.last).remove():n.slides.eq(e).remove(),n.doMath(),n.update(i,"remove"),n.slides=t(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},t(window).blur(function(){focused=!1}).focus(function(){focused=!0}),t.flexslider.defaults={namespace:"am-",selector:".am-slides > li",animation:"slide",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var i=t(this),n=e.selector?e.selector:".am-slides > li",o=i.find(n);1===o.length&&e.allowOneSlide===!0||0===o.length?(o.animate({opacity:1},400),e.start&&e.start(i)):void 0===i.data("flexslider")&&new t.flexslider(this,e)});var i=t(this).data("flexslider");switch(e){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof e&&i.flexAnimate(e,!0)}}}),define("zepto.pinchzoom",[],function(require,t,e){"use strict";var i=function(t){var e=function(e,i){this.el=t(e),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=t.extend({},this.defaults,i),this.setupMarkup(),this.bindEvents(),this.update(),this.enable()},i=function(t,e){return t+e},n=function(t,e){return t>e-.01&&e+.01>t};e.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:5,minZoom:.5,lockDragAxis:!1,use2d:!1,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(t){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){if(this.zoomFactor>1){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var i=this.getTouchCenter(this.getTouches(t)),n=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(n,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],i=this.zoomFactor>1?1:this.options.tapZoomFactor,n=this.zoomFactor,o=function(t){this.scaleTo(n+t*(i-n),e)}.bind(this);this.hasInteraction||(n>i&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,this.options.animationInterval,o,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(t){var e=(this.zoomFactor-1)*this.getContainerX(),i=(this.zoomFactor-1)*this.getContainerY(),n=Math.max(e,0),o=Math.max(i,0),s=Math.min(e,0),a=Math.min(i,0);return{x:Math.min(Math.max(t.x,s),n),y:Math.min(Math.max(t.y,a),o)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)})},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},drag:function(t,e){e&&this.addOffset(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?{x:-(t.x-e.x),y:0}:{y:-(t.y-e.y),x:0}:{y:-(t.y-e.y),x:-(t.x-e.x)})},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(i)/t.length,y:t.map(function(t){return t.y}).reduce(i)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},i=function(i){this.offset.x=e.x+i*(t.x-e.x),this.offset.y=e.y+i*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,i,this.swing)},zoomOutAnimation:function(){var t=this.zoomFactor,e=1,i=this.getCurrentZoomCenter(),n=function(n){this.scaleTo(t+n*(e-t),i)}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,n,this.swing)},updateAspectRatio:function(){this.setContainerY()},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var t=this.container[0].offsetWidth*this.zoomFactor,e=this.offset.x,i=t-e-this.container[0].offsetWidth,n=e/i,o=n*this.container[0].offsetWidth/(n+1),s=this.container[0].offsetHeight*this.zoomFactor,a=this.offset.y,r=s-a-this.container[0].offsetHeight,l=a/r,c=l*this.container[0].offsetHeight/(l+1);return 0===i&&(o=this.container[0].offsetWidth),0===r&&(c=this.container[0].offsetHeight),{x:o,y:c}},canDrag:function(){return!n(this.zoomFactor,1)},getTouches:function(t){var e=this.container.offset();return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e.left,y:t.pageY-e.top}})},animate:function(t,e,i,n,o){var s=(new Date).getTime(),a=function(){if(this.inAnimation){var r=(new Date).getTime()-s,l=r/t;r>=t?(i(1),o&&o(),this.update(),this.stopAnimation(),this.update()):(n&&(l=n(l)),i(l),this.update(),setTimeout(a,e))}}.bind(this);this.inAnimation=!0,a()},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return window.innerWidth},getContainerY:function(){return window.innerHeight},setContainerY:function(){var t=window.innerHeight;return this.el.css({height:t}),this.container.height(t)},setupMarkup:function(){this.container=t('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){o(this.container.get(0),this),t(window).on("resize",this.update.bind(this)),t(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var t=this.getInitialZoomFactor()*this.zoomFactor,e=-this.offset.x/t,i=-this.offset.y/t,n="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+i+"px,0px)",o="scale("+t+", "+t+") translate("+e+"px,"+i+"px)",s=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,s(),this.el.css({"-webkit-transform":n,"-o-transform":o,"-ms-transform":o,"-moz-transform":o,transform:n})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(s,200)),this.el.css({"-webkit-transform":o,"-o-transform":o,"-ms-transform":o,"-moz-transform":o,transform:o}),this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var o=function(t,e){var i=null,n=0,o=null,s=null,a=function(t,n){if(i!==t){if(i&&!t)switch(i){case"zoom":e.handleZoomEnd(n);break;case"drag":e.handleDragEnd(n)}switch(t){case"zoom":e.handleZoomStart(n);break;case"drag":e.handleDragStart(n)}}i=t},r=function(t){2===n?a("zoom"):1===n&&e.canDrag()?a("drag",t):a(null,t)},l=function(t){return Array.prototype.slice.call(t).map(function(t){return{x:t.pageX,y:t.pageY}})},c=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(i*i+n*n)},u=function(t,e){var i=c(t[0],t[1]),n=c(e[0],e[1]);return n/i},h=function(t){t.stopPropagation(),t.preventDefault()},d=function(t){var s=(new Date).getTime();if(n>1&&(o=null),300>s-o)switch(h(t),e.handleDoubleTap(t),i){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t)}1===n&&(o=s)},p=!0;t.addEventListener("touchstart",function(t){e.enabled&&(p=!0,n=t.touches.length,d(t))}),t.addEventListener("touchmove",function(t){if(e.enabled){if(p)r(t),i&&h(t),s=l(t.touches);else{switch(i){case"zoom":e.handleZoom(t,u(s,l(t.touches)));break;case"drag":e.handleDrag(t)}i&&(h(t),e.update())}p=!1}}),t.addEventListener("touchend",function(t){e.enabled&&(n=t.touches.length,r(t))})};return e};e.exports=i(window.Zepto)}),define("accordion",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.collapse"],function(require,t){"use strict";function e(){var t=i('[data-am-widget="accordion"]'),e={item:".am-accordion-item",title:".am-accordion-title",content:".am-accordion-content"};t.each(function(t,o){var s=n.utils.parseOptions(i(o).attr("data-am-accordion")),a=i(o).find(e.title);a.on("click.accordion.amui",function(){var t=i(this).next(e.content),n=i(this).parent(e.item),a=t.data("amui.collapse");n.toggleClass("am-active"),a?t.collapse("toggle"):t.collapse(),!s.multiple&&i(o).children(".am-active").not(n).removeClass("am-active").find(".am-accordion-content.am-in").collapse("close")})})}require("core"),require("ui.collapse");var i=window.Zepto,n=i.AMUI;i(function(){e()}),t.init=e}),define("divider",[],function(){}),define("duoshuo",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t){"use strict";function e(){var t=i(".ds-thread"),e=t.parent('[data-am-widget="duoshuo"]').attr("data-ds-short-name"),n=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js";if(t.length&&e&&(window.duoshuoQuery={short_name:e},!i('script[src="'+n+'"]').length)){var o=i("<script>",{async:!0,type:"text/javascript",src:n,charset:"utf-8"});i("body").append(o)}}require("core");var i=window.Zepto;i(window).on("load",e),t.init=e}),define("figure",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer"],function(require,t){"use strict";function e(){i(".am-figure").each(function(t,e){var o=n.utils.parseOptions(i(e).attr("data-am-figure"));if(o.pureview)i(e).addClass("am-figure-zoomable").pureview();else if(o.autoZoom){var s=i.isImgZoomAble(i(e).find("img")[0]);s&&i(e).pureview()}})}require("core"),require("ui.pureview");var i=window.Zepto,n=i.AMUI;i.isImgZoomAble=function(t){var e=new Image;e.src=t.src;var n=i(t).width()<e.width;return n&&i(t).closest(".am-figure").addClass("am-figure-zoomable"),n},i(window).on("load",function(){e()}),t.init=e}),define("footer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","ui.add2home","util.cookie"],function(require,t){"use strict";function e(){o(".am-footer-ysp").on("click",function(){o("#am-footer-mode").modal()}),!window.AMUI_NO_ADD2HS&&i(),o('[data-rel="desktop"]').on("click",function(t){t.preventDefault(),window.AMPlatform?window.AMPlatform.util.goDesktop():(n.set("allmobilize","desktop","","/"),window.location=window.location)})}require("core"),require("ui.modal");var i=require("ui.add2home"),n=require("util.cookie"),o=window.Zepto;o(window).on("load",function(){e()}),t.init=e}),define("gallery",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer"],function(require,t){"use strict";function e(){var t=n('[data-am-widget="gallery"]'),e=t.filter(".am-gallery-one");t.each(function(){var t=o.utils.parseOptions(n(this).attr("data-am-gallery"));t.pureview&&("object"==typeof t.pureview?n(this).pureview(t.pureview):n(this).pureview())}),e.each(function(){i(n(this))})}function i(t){var e=n("<li class='am-gallery-more'><a href=\"javascript:;\">更多 &gt;&gt;</a></li>");t.children().length>6&&(t.children().each(function(t){t>5&&n(this).hide()}),t.find(".am-gallery-more").remove(),t.append(e)),t.find(".am-gallery-more").on("click",function(){t.children().show(),n(this).hide()})}require("core"),require("ui.pureview");var n=window.Zepto,o=n.AMUI;n(function(){e()}),t.init=e}),define("gotop",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.smooth-scroll"],function(require,t){"use strict";function e(){function t(){n[(o.scrollTop()>50?"add":"remove")+"Class"]("am-active")}var e=i('[data-am-widget="gotop"]'),n=e.filter(".am-gotop-fixed"),o=i(window);e.find("a").on("click",function(t){t.preventDefault(),o.smoothScroll()}),t(),o.on("scroll.gotop.amui",i.AMUI.utils.debounce(t,100))}require("core"),require("ui.smooth-scroll");var i=window.Zepto;i(function(){e()}),t.init=e}),define("header",[],function(require,t){"use strict";function e(){i('[data-am-widget="header"]').each(function(){return i(this).hasClass("am-header-fixed")?(i("body").addClass("am-with-fixed-header"),!1):void 0})}var i=window.Zepto;i(function(){e()}),t.init=e}),define("intro",[],function(){"use strict"}),define("list_news",[],function(require,t){"use strict";function e(){n(".am-list-news-one").each(function(){i(n(this))})}function i(t){var e=t.find(".am-list"),i='<a class="am-list-news-more am-btn am-btn-default" href="javascript:;">更多 &gt;&gt;</a>';e.children().length>6&&(e.children().each(function(t){t>5&&n(this).hide()}),t.find(".am-list-news-more").remove(),t.append(i)),t.find(".am-list-news-more").on("click",function(){e.children().show(),n(this).hide()})}var n=window.Zepto;n(function(){e()}),t.init=e}),define("map",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick"],function(require,t){function e(t){var e=n("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=api&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});n("body").append(e),e.on("load",function(){var e=n("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=feature&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});n("body").append(e),e.on("load",function(){var e=document.createElement("script");e.textContent="("+t.toString()+")();",n("body")[0].appendChild(e)})})}function i(){var t=document.querySelector(".am-map"),e=116.331398,i=39.897445,n=t.getAttribute("data-name"),o=t.getAttribute("data-address"),s=t.getAttribute("data-longitude")||e,a=t.getAttribute("data-latitude")||i,r=new BMap.Map("bd-map"),l=new BMap.Point(s,a);r.centerAndZoom(l,18),r.addControl(new BMap.ZoomControl);var c={width:200,title:n},u=new BMap.InfoWindow("地址："+o,c),h=new BMap.Geocoder;s==e&&a==i?h.getPoint(o,function(t){t&&(r.centerAndZoom(t,17),r.addOverlay(new BMap.Marker(t)),r.openInfoWindow(u,t))},""):h.getLocation(l,function(){r.centerAndZoom(l,17),r.addOverlay(new BMap.Marker(l)),o?r.openInfoWindow(u,l):r.openInfoWindow(new BMap.InfoWindow(o,c),l)})}require("core");var n=window.Zepto,o=function(){n(".am-map").length&&e(i)};n(document).on("ready",o),t.init=o}),define("mechat",[],function(require,t){"use strict";function e(){if(i("#mechat").length){var t=i('[data-am-widget="mechat"]'),e=t.data("am-mechat-unitid"),n=i("<script>",{charset:"utf-8",src:"http://mechatim.com/js/unit/button.js?id="+e});i("body").append(n)}}var i=window.Zepto;i(window).on("load",e),t.init=e}),define("menu",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.offcanvas","zepto.outerdemension","ui.collapse","ui.iscroll-lite"],function(require,t){"use strict";require("core"),require("ui.offcanvas"),require("ui.collapse");var e=require("ui.iscroll-lite"),i=window.Zepto,n=function(){var t=i('[data-am-widget="menu"]');t.find(".am-menu-nav .am-parent > a").on("click",function(t){t.preventDefault();var e=i(this),n=e.parent(),o=e.next(".am-menu-sub");n.toggleClass("am-open"),o.collapse("toggle"),n.siblings(".am-parent").removeClass("am-open").children(".am-menu-sub.am-in").collapse("close")}),t.filter("[data-am-menu-collapse]").find("> .am-menu-toggle").on("click",function(t){t.preventDefault();var e=i(this),n=e.next(".am-menu-nav");e.toggleClass("am-active"),n.collapse("toggle")}),t.filter("[data-am-menu-offcanvas]").find("> .am-menu-toggle").on("click",function(t){t.preventDefault();var e=i(this),n=e.next(".am-offcanvas");e.toggleClass("am-active"),n.offCanvas("open")});var n='.am-offcanvas[data-dismiss-on="click"]',o=i(n);o.find("a").not(".am-parent>a").on("click",function(){i(this).parents(n).offCanvas("close")}),t.filter(".am-menu-one").each(function(t){var n,o=i(this),s=i('<div class="am-menu-nav-sub-wrap"></div>'),a=0,r=o.find(".am-menu-nav"),l=r.children("li");l.filter(".am-parent").each(function(t){i(this).attr("data-rel","#am-menu-sub-"+t),i(this).find(".am-menu-sub").attr("id","am-menu-sub-"+t).appendTo(s)}),o.append(s),r.wrap('<div class="am-menu-nav-wrap" id="am-menu-'+t+'">'),l.each(function(){a+=parseFloat(i(this).css("width"))}),r.width(a);var c=new e("#am-menu-"+t,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});l.on("click",function(){var t=i(this);t.addClass("am-active").siblings().removeClass("am-active"),s.find(".am-menu-sub.am-in").collapse("close"),t.is(".am-parent")?!t.hasClass(".am-open")&&s.find(t.attr("data-rel")).collapse("open"):t.siblings().removeClass("am-open"),void 0===n&&(n=i(this).index()?0:1);var e,a=i(this).index()>n,l=i(this)[a?"next":"prev"](),u=l.offset()||i(this).offset(),h=o.offset(),d=parseInt(o.css("padding-left"));(a?u.left+u.width>h.left+h.width:u.left<h.left)&&(e=r.offset(),c.scrollTo(a?h.width-u.left+e.left-u.width-d:e.left-u.left,0,400)),n=i(this).index()}),o.on("touchmove",function(t){t.preventDefault()})})};i(function(){n()}),t.init=n}),define("navbar",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.modal","ui.dimmer","util.qrcode","ui.share"],function(require,t){"use strict";function e(){function t(){u.append(b),u.find("li").not(".am-navbar-more").slice(a()-1).appendTo(y),r.append(y)}function e(){return a()>=d?(b.hide(),void y.find("li").insertBefore(b)):(!r.find(".am-navbar-actions").length&&t(),b.show(),void(u.find("li").length<a()?y.find("li").slice(0,a()-u.find("li").length).insertBefore(b):u.find("li").length>a()&&(y.find("li").length?u.find("li").not(b).slice(a()-1).insertBefore(y.find("li").first()):u.find("li").not(b).slice(a()-1).appendTo(y))))}function a(){return Math.floor((l.width()-f)/m)}var r=i('[data-am-widget="navbar"]');if(r.length){var l=i(window),c=i("body"),u=r.find(".am-navbar-nav"),h=r.find("li"),d=h.length,p=u.attr("class")&&parseInt(u.attr("class").match(/sm-block-grid-(\d+)/)[1])||3,m=60,f=16,v=h.filter("[data-am-navbar-share]"),g=h.filter("[data-am-navbar-qrcode]"),w="am-active",y=i('<ul class="am-navbar-actions"></ul>',{id:n.utils.generateGUID("am-navbar-actions")}),b=i('<li class="am-navbar-labels am-navbar-more"><a href="javascript: void(0);"><span class="am-icon-angle-up"></span><span class="am-navbar-label">更多</span></a></li>');if("fixed"==r.css("position")&&c.addClass("am-with-fixed-navbar"),g.length){var T="am-navbar-qrcode";if(E=i("#"+T),!E.length){var x=g.attr("data-am-navbar-qrcode"),E=i('<div class="am-modal am-modal-no-btn" id=""><div class="am-modal-dialog"><div class="am-modal-bd"></div></div></div>',{id:T}),C=E.find(".am-modal-bd");if(x)C.html('<img src="'+x+'"/>');else{var S=new o({render:"canvas",correctLevel:0,text:window.location.href,width:200,height:200,background:"#fff",foreground:"#000"});C.html(S)}c.append(E)}g.on("click",function(t){t.preventDefault(),E.modal()})}d>p&&d>a()&&t(),r.on("click.navbar.amui",".am-navbar-more",function(t){t.preventDefault(),b[y.hasClass(w)?"removeClass":"addClass"](w),y.toggleClass(w)}),v.length&&v.on("click.navbar.amui",function(t){t.preventDefault(),s.toggle()}),l.on("resize.navbar.amui orientationchange.navbar.amui",n.utils.debounce(e,150))}}require("core"),require("ui.modal");var i=window.Zepto,n=i.AMUI,o=require("util.qrcode"),s=require("ui.share");i(function(){e()}),t.init=e}),define("pagination",[],function(){}),define("paragraph",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.pureview","zepto.pinchzoom","util.hammer","ui.iscroll-lite"],function(require,t){"use strict";function e(){var t=i('[data-am-widget="paragraph"]');t.each(function(t){var e=i(this),o=n.utils.parseOptions(e.attr("data-am-paragraph")),s=t;o.pureview&&e.pureview(),o.tableScrollable&&e.find("table").each(function(t){i(this).width()>i(window).width()&&i(this).scrollTable(s+"-"+t)})})}require("core"),require("ui.pureview");var i=window.Zepto,n=i.AMUI,o=require("ui.iscroll-lite");i.fn.scrollTable=function(t){var e,n=i(this);n.wrap('<div class="am-paragraph-table-container" id="am-paragraph-table-'+t+'"><div class="am-paragraph-table-scroller"></div></div>'),e=n.parent(),e.width(n.width()),e.height(n.height()),new o("#am-paragraph-table-"+t,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1})},i(window).on("load",function(){e()}),t.init=e}),define("slider",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","zepto.flexslider"],function(require,t){"use strict";function e(){var t=i('[data-am-widget="slider"]');t.not(".am-slider-manual").each(function(t,e){var o=n.utils.parseOptions(i(e).attr("data-am-slider"));i(e).flexslider(o)})}require("core"),require("zepto.flexslider");var i=window.Zepto,n=i.AMUI;i(document).on("ready",e),t.init=e}),define("sohucs",[],function(require,t){"use strict";function e(){if(i("#SOHUCS").length){var t=i('[data-am-widget="sohucs"]'),e=t.attr("data-am-sohucs-appid"),n=t.attr("data-am-sohucs-conf"),o=i("<script></script>",{charset:"utf-8",id:"changyan_mobile_js",src:"http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id="+e+"&conf="+n});i("body").append(o)}}var i=window.Zepto;i(window).on("load",e),t.init=e}),define("tabs",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.fastclick","ui.tabs","util.hammer"],function(require,t){"use strict";function e(){i('[data-am-widget="tabs"]').each(function(){var t=i(this).data("amTabsNoswipe")?{noSwipe:1}:{};i(this).tabs(t)})}require("core"),require("ui.tabs");var i=window.Zepto;i(function(){e()}),t.init=e}),define("titlebar",[],function(){}),seajs.use(["core","util.fastclick","util.hammer","zepto.outerdemension","zepto.extend.data","zepto.extend.fx","zepto.extend.selector","ui.add2home","ui.alert","ui.button","ui.collapse","ui.dimmer","ui.dropdown","ui.iscroll-lite","ui.modal","ui.offcanvas","ui.popover","ui.progress","ui.pureview","ui.scrollspy","ui.scrollspynav","ui.share","ui.smooth-scroll","ui.sticky","ui.tabs","util.cookie","util.fullscreen","util.qrcode","zepto.flexslider","zepto.pinchzoom","accordion","divider","duoshuo","figure","footer","gallery","gotop","header","intro","list_news","map","mechat","menu","navbar","pagination","paragraph","slider","sohucs","tabs","titlebar"]);